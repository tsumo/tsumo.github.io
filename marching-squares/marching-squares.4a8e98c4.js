parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"j3xd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.v2=void 0,exports.v2={scale:function(t,e){return[t[0]*e,t[1]*e]},sub:function(t,e){return[t[0]-e[0],t[1]-e[1]]},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},reflect:function(t,e){var r=exports.v2.scale(e,exports.v2.dot(t,e));return exports.v2.sub(exports.v2.scale(r,2),t)},fromAngle:function(t){return[Math.cos(t),Math.sin(t)]},toAngle:function(t){return Math.atan2(t[1],t[0])}};
},{}],"cBxZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Ball=void 0;var t=require("./vector2"),e=function(){function e(t,e,i,s,h,l,r){this.width=t,this.height=e,this.radius=h,this.speed=l,this.x=i,this.y=s,this.angle=r}return e.prototype.update=function(){var e=this.x,i=this.y,s=Math.cos(this.angle)*this.speed,h=Math.sin(this.angle)*this.speed,l=t.v2.fromAngle(this.angle),r=null;if(i+h>this.height&&(r=t.v2.reflect(l,[1,0])),i+h<0&&(r=t.v2.reflect(l,[-1,0])),e+s>this.width&&(r=t.v2.reflect(l,[0,-1])),e+s<0&&(r=t.v2.reflect(l,[0,1])),null!==r){var n=t.v2.toAngle(r);this.angle=n}else this.x+=s,this.y+=h},e}();exports.Ball=e;
},{"./vector2":"j3xd"}],"UldJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deg2Rad=exports.randDeviate=exports.randRange=exports.randSign=exports.randInt=exports.rand=void 0;var r=Math.random,n=Math.floor,t=Math.PI,e=function(n){return void 0===n&&(n=1),r()*n};exports.rand=e;var a=function(r){return n(exports.rand()*r)};exports.randInt=a;var o=function(){return exports.rand()>=.5?1:-1};exports.randSign=o;var d=function(r,n){return exports.rand(n-r)+r};exports.randRange=d;var s=function(r){return exports.rand(2*r)-r};exports.randDeviate=s;var p=function(r){return r*t/180};exports.deg2Rad=p;
},{}],"ovzr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Render=void 0;var t=require("./ball"),i=require("./utils"),h={grid:"#263339",ball:"salmon",influence:"indianred"},r={leftBottom:[0,.5,.5,1],rightBottom:[1,.5,.5,1],rightTop:[.5,0,1,.5],leftTop:[.5,0,0,.5],horizontal:[0,.5,1,.5],vertical:[.5,0,.5,1]},e={0:[],1:[r.leftBottom],2:[r.rightBottom],3:[r.horizontal],4:[r.rightTop],5:[r.leftTop,r.rightBottom],6:[r.vertical],7:[r.leftTop],8:[r.leftTop],9:[r.vertical],10:[r.rightTop,r.leftBottom],11:[r.rightTop],12:[r.horizontal],13:[r.rightBottom],14:[r.leftBottom],15:[]},s=function(){function r(h,r){var e=this;this.width=640,this.height=480,this.gridStep=8,this.balls=[],this.influences=[],this.configurations=[],this.config={grid:!0,balls:!0,metaballs:!0,smoothing:!0},this.canvas=h,this.ctx=r,h.width=this.width,h.height=this.height,this.widthCells=Math.ceil(this.width/this.gridStep),this.heightCells=Math.ceil(this.height/this.gridStep);for(var s=0;s<=this.widthCells;s++){(o=Array(this.heightCells)).fill(0),this.influences.push(o)}for(s=0;s<=this.widthCells;s++){var o;(o=Array(this.heightCells)).fill(0),this.configurations.push(o)}for(var n=0;n<10;++n)this.balls.push(new t.Ball(this.width,this.height,i.rand(this.width),i.rand(this.height),i.randRange(30,50),i.randRange(1,2),i.rand(2*Math.PI)));!function t(){e.clear(),e.updateBalls(),e.calcConfigurations(),e.config.grid&&e.drawGrid(),e.config.balls&&e.drawBalls(),e.config.metaballs&&e.drawConfigurations(),requestAnimationFrame(t)}()}return r.prototype.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},r.prototype.updateBalls=function(){this.balls.forEach(function(t){return t.update()})},r.prototype.drawGrid=function(){this.ctx.fillStyle=h.grid;for(var t=0;t<this.width;t+=this.gridStep)this.ctx.fillRect(t,0,1,this.height);for(var i=0;i<this.height;i+=this.gridStep)this.ctx.fillRect(0,i,this.width,1)},r.prototype.calcConfigurations=function(){for(var t=this,i=function(i){for(var r=function(r){var e=h.balls.reduce(function(h,e){var s=Math.pow(i*t.gridStep-e.x,2),o=Math.pow(r*t.gridStep-e.y,2);return Math.pow(e.radius,2)/(s+o)+h},0);h.influences[i][r]=e},e=0;e<=h.heightCells;e++)r(e)},h=this,r=0;r<=this.widthCells;r++)i(r);for(var e=0;e<this.widthCells;e++)for(var s=0;s<this.heightCells;s++){var o=0;this.influences[e][s]>=1&&(o|=8),this.influences[e+1][s]>=1&&(o|=4),this.influences[e][s+1]>=1&&(o|=1),this.influences[e+1][s+1]>=1&&(o|=2),this.configurations[e][s]=o}},r.prototype.drawLine=function(t,i,h){var r=this.gridStep,e=t*r,s=i*r;this.ctx.beginPath(),this.ctx.moveTo(h[0]*r+e,h[1]*r+s),this.ctx.lineTo(h[2]*r+e,h[3]*r+s),this.ctx.stroke()},r.prototype.drawConfigurations=function(){var t=this;this.ctx.strokeStyle=h.influence;for(var i=function(i){for(var h=function(h){var s=r.configurations[i][h];e[s].forEach(function(r){return t.drawLine(i,h,r)})},s=0;s<r.configurations[i].length;s++)h(s)},r=this,s=0;s<this.configurations.length;s++)i(s)},r.prototype.drawBalls=function(){var t=this;this.ctx.strokeStyle=h.ball,this.balls.forEach(function(i){t.ctx.beginPath(),t.ctx.arc(i.x,i.y,i.radius,0,2*Math.PI),t.ctx.stroke()})},r}();exports.Render=s;
},{"./ball":"cBxZ","./utils":"UldJ"}],"QCba":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./src/render"),n=function(){var n=document.getElementById("c");if(n instanceof HTMLCanvasElement){var t=n.getContext("2d");if(null!==t){var c=document.querySelector('input[name="grid"]'),o=document.querySelector('input[name="balls"]'),i=document.querySelector('input[name="metaballs"]'),l=document.querySelector('input[name="smoothing"]');if(c instanceof HTMLInputElement&&o instanceof HTMLInputElement&&i instanceof HTMLInputElement&&l instanceof HTMLInputElement){var r=new e.Render(n,t),u=function(){r.config.grid=c.checked,r.config.balls=o.checked,r.config.metaballs=i.checked,r.config.smoothing=l.checked};c.onclick=u,o.onclick=u,i.onclick=u,l.onclick=u}}}};n();
},{"./src/render":"ovzr"}]},{},["QCba"], null)
//# sourceMappingURL=marching-squares.4a8e98c4.js.map