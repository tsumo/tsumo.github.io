/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={426:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(645),i=n.n(r)()((function(t){return t[1]}));i.push([t.id,"* {\n  margin: 0;\n}\n\nhtml,\nbody {\n  width: 100%;\n  height: 100%;\n}\n\nbody {\n  background-color: #4e5052;\n}\n\n#canvas {\n  width: 100%;\n  height: 100%;\n  display: block;\n}\n\n#switcher {\n  position: absolute;\n  bottom: 1rem;\n  left: 1rem;\n  opacity: 0.3;\n}\n\n#switcher:hover {\n  opacity: 1;\n}\n\n#switcher select {\n  width: 90px;\n}\n",""]);const o=i},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},466:function(t){var e;t.exports=((e=function(){function t(t){return i.appendChild(t.dom),t}function n(t){for(var e=0;e<i.children.length;e++)i.children[e].style.display=e===t?"block":"none";r=t}var r=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",(function(t){t.preventDefault(),n(++r%i.children.length)}),!1);var o=(performance||Date).now(),a=o,s=0,l=t(new e.Panel("FPS","#0ff","#002")),u=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var p=t(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:i,addPanel:t,showPanel:n,begin:function(){o=(performance||Date).now()},end:function(){s++;var t=(performance||Date).now();if(u.update(t-o,200),t>a+1e3&&(l.update(1e3*s/(t-a),100),a=t,s=0,p)){var e=performance.memory;p.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){o=this.end()},domElement:i,setMode:n}}).Panel=function(t,e,n){var r=1/0,i=0,o=Math.round,a=o(window.devicePixelRatio||1),s=80*a,l=48*a,u=3*a,p=2*a,c=3*a,d=15*a,h=74*a,v=30*a,f=document.createElement("canvas");f.width=s,f.height=l,f.style.cssText="width:80px;height:48px";var m=f.getContext("2d");return m.font="bold "+9*a+"px Helvetica,Arial,sans-serif",m.textBaseline="top",m.fillStyle=n,m.fillRect(0,0,s,l),m.fillStyle=e,m.fillText(t,u,p),m.fillRect(c,d,h,v),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(c,d,h,v),{dom:f,update:function(l,b){r=Math.min(r,l),i=Math.max(i,l),m.fillStyle=n,m.globalAlpha=1,m.fillRect(0,0,s,d),m.fillStyle=e,m.fillText(o(l)+" "+t+" ("+o(r)+"-"+o(i)+")",u,p),m.drawImage(f,c+a,d,h-a,v,c,d,h-a,v),m.fillRect(c+h-a,d,a,v),m.fillStyle=n,m.globalAlpha=.9,m.fillRect(c+h-a,d,a,o((1-l/b)*v))}}},e)},379:(t,e,n)=>{"use strict";var r,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function a(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},r=[],i=0;i<t.length;i++){var s=t[i],l=e.base?s[0]+e.base:s[0],u=n[l]||0,p="".concat(l," ").concat(u);n[l]=u+1;var c=a(p),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==c?(o[c].references++,o[c].updater(d)):o.push({identifier:p,updater:f(d,e),references:1}),r.push(p)}return r}function l(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var u,p=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function c(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=p(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function d(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var h=null,v=0;function f(t,e){var n,r,i;if(e.singleton){var o=v++;n=h||(h=l(e)),r=c.bind(null,n,o,!1),i=c.bind(null,n,o,!0)}else n=l(e),r=d.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var l=s(t,e),u=0;u<n.length;u++){var p=a(n[u]);0===o[p].references&&(o[p].updater(),o.splice(p,1))}n=l}}}},498:function(t){t.exports=function(){"use strict";var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return(n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function i(t){return null==t}function o(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var a={alreadydisposed:function(){return"View has been already disposed"},invalidparams:function(t){return"Invalid parameters for '"+t.name+"'"},nomatchingcontroller:function(t){return"No matching controller for '"+t.key+"'"},nomatchingview:function(t){return"No matching view for '"+JSON.stringify(t.params)+"'"},notbindable:function(){return"Value is not bindable"},propertynotfound:function(t){return"Property '"+t.name+"' not found"},shouldneverhappen:function(){return"This error should never happen"}},s=function(){function t(t){var e;this.message=null!==(e=a[t.type](t.context))&&void 0!==e?e:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=t.type}return t.alreadyDisposed=function(){return new t({type:"alreadydisposed"})},t.notBindable=function(){return new t({type:"notbindable"})},t.propertyNotFound=function(e){return new t({type:"propertynotfound",context:{name:e}})},t.shouldNeverHappen=function(){return new t({type:"shouldneverhappen"})},t}();s.prototype=Object.create(Error.prototype),s.prototype.constructor=s;var l=function(){function t(){this.observers_={}}return t.prototype.on=function(t,e){var n=this.observers_[t];return n||(n=this.observers_[t]=[]),n.push({handler:e}),this},t.prototype.off=function(t,e){var n=this.observers_[t];return n&&(this.observers_[t]=n.filter((function(t){return t.handler!==e}))),this},t.prototype.emit=function(t,e){var n=this.observers_[t];n&&n.forEach((function(t){t.handler(e)}))},t}(),u=function(){function t(t,e){var n;this.constraint_=null==e?void 0:e.constraint,this.equals_=null!==(n=null==e?void 0:e.equals)&&void 0!==n?n:function(t,e){return t===e},this.emitter=new l,this.rawValue_=t}return Object.defineProperty(t.prototype,"constraint",{get:function(){return this.constraint_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rawValue",{get:function(){return this.rawValue_},set:function(t){var e=this.constraint_?this.constraint_.constrain(t):t;!this.equals_(this.rawValue_,e)&&(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=e,this.emitter.emit("change",{rawValue:e,sender:this}))},enumerable:!1,configurable:!0}),t}(),p=function(){function t(t){this.emitter=new l,this.value_=t}return Object.defineProperty(t.prototype,"rawValue",{get:function(){return this.value_},set:function(t){this.value_!==t&&(this.emitter.emit("beforechange",{sender:this}),this.value_=t,this.emitter.emit("change",{sender:this,rawValue:this.value_}))},enumerable:!1,configurable:!0}),t}();function c(t,e){var n=null==e?void 0:e.constraint,r=null==e?void 0:e.equals;return n||r?new u(t,e):new p(t)}var d=function(){function t(t){var e=this;this.emitter=new l,this.valMap_=t;var n=function(t){r.valMap_[t].emitter.on("change",(function(){e.emitter.emit("change",{key:t,sender:e})}))},r=this;for(var i in this.valMap_)n(i)}return t.createCore=function(t){return Object.keys(t).reduce((function(e,n){var r;return Object.assign(e,((r={})[n]=c(t[n]),r))}),{})},t.fromObject=function(e){return new t(this.createCore(e))},t.prototype.get=function(t){return this.valMap_[t].rawValue},t.prototype.set=function(t,e){this.valMap_[t].rawValue=e},t.prototype.value=function(t){return this.valMap_[t]},t.prototype.valueEmitter=function(t){return console.warn("ValueMap.valueEmitter is deprecated. Use ValueMap.value.emitter instead.\nThis polyfill will be removed in the next major version."),this.valMap_[t].emitter},t}();function h(){return new d({positions:c([],{equals:o})})}var v="tp";function f(t){return function(e,n){return[v,"-",t,"v",e?"_"+e:"",n?"-"+n:""].join("")}}var m=f(""),b={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"},g=function(){function t(t){var e=this;this.parent_=null,this.blade=t.blade,this.view=t.view,this.viewProps=t.viewProps;var n=this.view.element;this.blade.value("positions").emitter.on("change",(function(){["veryfirst","first","last","verylast"].forEach((function(t){n.classList.remove(m(void 0,b[t]))})),e.blade.get("positions").forEach((function(t){n.classList.add(m(void 0,b[t]))}))})),this.viewProps.handleDispose((function(){e.view.onDispose&&(console.warn("View.onDispose is deprecated. Use ViewProps.value('disposed').emitter instead."),e.view.onDispose()),function(t){t&&t.parentElement&&t.parentElement.removeChild(t)}(n)}))}return Object.defineProperty(t.prototype,"parent",{get:function(){return this.parent_},enumerable:!1,configurable:!0}),t}(),_="http://www.w3.org/2000/svg";function w(t){t.offsetHeight}function y(t){return void 0!==t.ontouchstart}function x(){return new Function("return this")()}function P(t){return"document"in x()?t.getContext("2d"):null}var C={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function E(t,e){var n=t.createElementNS(_,"svg");return n.innerHTML=C[e],n}function k(t,e,n){t.insertBefore(e,t.children[n])}function M(t){t.parentElement&&t.parentElement.removeChild(t)}function T(t){for(;t.children.length>0;)t.removeChild(t.children[0])}function L(t){return t.relatedTarget?t.relatedTarget:"explicitOriginalTarget"in t?t.explicitOriginalTarget:null}function S(t){return t.rawValue}function A(t,e){var n,r;t.emitter.on("change",(n=S,r=e,function(t){return r(n(t))})),e(t.rawValue)}function V(t,e,n){A(t.value(e),n)}var R=f("lbl");var j=function(t,e){var n=this;this.element=t.createElement("div"),this.element.classList.add(R()),e.viewProps.bindClassModifiers(this.element);var r=t.createElement("div");r.classList.add(R("l")),V(e.props,"label",(function(e){i(e)?n.element.classList.add(R(void 0,"nol")):(n.element.classList.remove(R(void 0,"nol")),function(t){for(;t.childNodes.length>0;)t.removeChild(t.childNodes[0])}(r),r.appendChild(function(t,e){var n=t.createDocumentFragment();return e.split("\n").map((function(e){return t.createTextNode(e)})).forEach((function(e,r){r>0&&n.appendChild(t.createElement("br")),n.appendChild(e)})),n}(t,e)))})),this.element.appendChild(r),this.labelElement=r;var o=t.createElement("div");o.classList.add(R("v")),this.element.appendChild(o),this.valueElement=o},D=function(t){function r(e,r){var i=this,o=r.valueController.viewProps;return(i=t.call(this,n(n({},r),{view:new j(e,{props:r.props,viewProps:o}),viewProps:o}))||this).props=r.props,i.valueController=r.valueController,i.view.valueElement.appendChild(i.valueController.view.element),i.viewProps.handleDispose((function(){var t=i.valueController;t.onDispose&&(console.warn("Controller.onDispose is deprecated. Use ViewProps.value('disposed').emitter instead."),t.onDispose()),t.view.onDispose&&(console.warn("View.onDispose is deprecated. Use ViewProps.value('disposed').emitter instead."),t.view.onDispose())})),i}return e(r,t),r}(g),U=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.binding=n.binding,r}return e(n,t),n}(D),O=function(){function t(t){this.onValueChange_=this.onValueChange_.bind(this),this.reader=t.reader,this.writer=t.writer,this.emitter=new l,this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.target=t.target,this.read()}return t.prototype.read=function(){var t=this.target.read();void 0!==t&&(this.value.rawValue=this.reader(t))},t.prototype.write_=function(t){this.writer(this.target,t)},t.prototype.onValueChange_=function(t){this.write_(t.rawValue),this.emitter.emit("change",{rawValue:t.rawValue,sender:this})},t}();function I(t,e){return function(n){!function(t,e,n){n?t.classList.add(e):t.classList.remove(e)}(t,e,n)}}function F(t,e){A(t,(function(t){e.textContent=null!=t?t:""}))}var N=f("");function B(t,e){return I(t,N(void 0,e))}var z=function(t){function n(e){return t.call(this,e)||this}return e(n,t),n.create=function(t){var e,r,i=null!=t?t:{},o={disabled:null!==(e=i.disabled)&&void 0!==e&&e,disposed:!1,hidden:null!==(r=i.hidden)&&void 0!==r&&r};return new n(d.createCore(o))},n.prototype.bindClassModifiers=function(t){V(this,"disabled",B(t,"disabled")),V(this,"hidden",B(t,"hidden"))},n.prototype.bindDisabled=function(t){V(this,"disabled",(function(e){t.disabled=e}))},n.prototype.bindTabIndex=function(t){V(this,"disabled",(function(e){t.tabIndex=e?-1:0}))},n.prototype.handleDispose=function(t){this.value("disposed").emitter.on("change",(function(e){e&&t()}))},n}(d),K=function(){function t(t){this.constraints=t}return t.prototype.constrain=function(t){return this.constraints.reduce((function(t,e){return e.constrain(t)}),t)},t}();function H(t,e){if(t instanceof e)return t;if(t instanceof K){var n=t.constraints.reduce((function(t,n){return t||(n instanceof e?n:null)}),null);if(n)return n}return null}var q=function(){function t(t){this.options=t}return t.prototype.constrain=function(t){var e=this.options;return 0===e.length||e.filter((function(e){return e.value===t})).length>0?t:e[0].value},t}(),G=function(){function t(t){this.step=t}return t.prototype.constrain=function(t){return(t<0?-Math.round(-t/this.step):Math.round(t/this.step))*this.step},t}();function X(t,e,n,r,i){return r+(t-e)/(n-e)*(i-r)}function Y(t){return String(t.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Q(t,e,n){return Math.min(Math.max(t,e),n)}function W(t,e){return(t%e+e)%e}function $(t){if(Array.isArray(t))return t;var e=[];return Object.keys(t).forEach((function(n){e.push({text:n,value:t[n]})})),e}function J(t){return"options"in t&&void 0!==t.options?new q($(t.options)):null}function Z(t){var e=t?H(t,q):null;return e?e.options:null}function tt(t,e){var n=t&&H(t,G);return n?Y(n.step):Math.max(Y(e),2)}function et(t){var e=function(t){var e=t?H(t,G):null;return e?e.step:null}(t);return null!=e?e:1}function nt(t,e){var n,r=t&&H(t,G),i=Math.abs(null!==(n=null==r?void 0:r.step)&&void 0!==n?n:e);return 0===i?.1:Math.pow(10,Math.floor(Math.log10(i))-1)}function rt(t,e){t.viewProps||(t.viewProps=z.create(),console.warn("Missing controller.viewProps (plugin: '"+e+"')\nThis polyfill will be removed in the next major version."))}var it=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.binding=n.binding,r.viewProps.bindDisabled(r.binding.ticker),r.viewProps.handleDispose((function(){r.binding.dispose()})),r}return e(n,t),n}(D);function ot(t,e){for(;t.length<e;)t.push(void 0)}function at(t){var e=[];return ot(e,t),c(e)}var st=function(){function t(t){this.onTick_=this.onTick_.bind(this),this.reader_=t.reader,this.target=t.target,this.emitter=new l,this.value=t.value,this.ticker=t.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}return t.prototype.dispose=function(){this.ticker.dispose()},t.prototype.read=function(){var t=this.target.read();if(void 0!==t){var e=this.value.rawValue,n=this.reader_(t);this.value.rawValue=function(t,e){var n=r(function(t){var e=t.indexOf(void 0);return e<0?t:t.slice(0,e)}(t),[e]);return n.length>t.length?n.splice(0,n.length-t.length):ot(n,t.length),n}(e,n),this.emitter.emit("update",{rawValue:n,sender:this})}},t.prototype.onTick_=function(t){this.read()},t}(),lt=function(){function t(t,e){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=t,this.emitter=new l,this.interval_=e,this.setTimer_()}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this.disabled_},set:function(t){this.disabled_=t,this.disabled_?this.clearTimer_():this.setTimer_()},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.clearTimer_()},t.prototype.clearTimer_=function(){if(null!==this.timerId_){var t=this.doc_.defaultView;t&&t.clearInterval(this.timerId_),this.timerId_=null}},t.prototype.setTimer_=function(){if(this.clearTimer_(),!(this.interval_<=0)){var t=this.doc_.defaultView;t&&(this.timerId_=t.setInterval(this.onTick_,this.interval_))}},t.prototype.onTick_=function(){this.disabled_||this.emitter.emit("tick",{sender:this})},t}(),ut=function(){function t(){this.disabled=!1,this.emitter=new l}return t.prototype.dispose=function(){},t.prototype.tick=function(){this.disabled||this.emitter.emit("tick",{sender:this})},t}(),pt={defaultInterval:200,defaultLineCount:3};function ct(t,e){return 0===e?new ut:new lt(t,null!=e?e:pt.defaultInterval)}var dt=function(){function t(t){this.controller_=t}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this.controller_.viewProps.get("disabled")},set:function(t){this.controller_.viewProps.set("disabled",t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hidden",{get:function(){return this.controller_.viewProps.get("hidden")},set:function(t){this.controller_.viewProps.set("hidden",t)},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.controller_.viewProps.set("disposed",!0)},t}(),ht=function(t){this.target=t},vt=function(t){function n(e,n,r){var i=t.call(this,e)||this;return i.value=n,i.presetKey=r,i}return e(n,t),n}(ht),ft=function(t){function n(e,n,r){var i=t.call(this,e)||this;return i.value=n,i.presetKey=r,i}return e(n,t),n}(ht),mt=function(t){function n(e,n){var r=t.call(this,e)||this;return r.expanded=n,r}return e(n,t),n}(ht),bt=function(t){function n(e){var n=t.call(this,e)||this;return n.onBindingChange_=n.onBindingChange_.bind(n),n.emitter_=new l,n.controller_.binding.emitter.on("change",n.onBindingChange_),n}return e(n,t),n.prototype.on=function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this},n.prototype.refresh=function(){this.controller_.binding.read()},n.prototype.onBindingChange_=function(t){var e=t.sender.target.read();this.emitter_.emit("change",{event:new vt(this,e,this.controller_.binding.target.presetKey)})},n}(dt),gt=function(t){function n(e){var n=t.call(this,e)||this;return n.onBindingUpdate_=n.onBindingUpdate_.bind(n),n.emitter_=new l,n.controller_.binding.emitter.on("update",n.onBindingUpdate_),n}return e(n,t),n.prototype.on=function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this},n.prototype.refresh=function(){this.controller_.binding.read()},n.prototype.onBindingUpdate_=function(t){var e=t.sender.target.read();this.emitter_.emit("update",{event:new ft(this,e,this.controller_.binding.target.presetKey)})},n}(dt);function _t(t){return function(e){return function(n){if(!e&&void 0===n)return{succeeded:!1,value:void 0};if(e&&void 0===n)return{succeeded:!0,value:void 0};var r=t(n);return void 0!==r?{succeeded:!0,value:r}:{succeeded:!1,value:void 0}}}}function wt(t){return{custom:function(e){return _t(e)(t)},boolean:_t((function(t){return"boolean"==typeof t?t:void 0}))(t),number:_t((function(t){return"number"==typeof t?t:void 0}))(t),string:_t((function(t){return"string"==typeof t?t:void 0}))(t),function:_t((function(t){return"function"==typeof t?t:void 0}))(t),constant:function(e){return _t((function(t){return t===e?e:void 0}))(t)},raw:_t((function(t){return t}))(t),object:function(e){return _t((function(t){if(null!==(r=t)&&"object"==typeof r)return function(t,e){return Object.keys(e).reduce((function(r,i){var o;if(void 0!==r){var a=(0,e[i])(t[i]);return a.succeeded?n(n({},r),((o={})[i]=a.value,o)):void 0}}),{})}(t,e);var r}))(t)},array:function(e){return _t((function(t){if(Array.isArray(t))return n=e,t.reduce((function(t,e){if(void 0!==t){var i=n(e);if(i.succeeded&&void 0!==i.value)return r(t,[i.value])}}),[]);var n}))(t)}}}var yt={optional:wt(!0),required:wt(!1)};function xt(t,e){var n=yt.required.object(e)(t);return n.succeeded?n.value:void 0}var Pt=function(t){function n(e,n){var r=t.call(this,e)||this;return r.rackApi_=n,r}return e(n,t),n}(dt),Ct=function(){function t(t,e,n){this.obj_=t,this.key_=e,this.presetKey_=null!=n?n:e}return t.isBindable=function(t){return null!==t&&"object"==typeof t},Object.defineProperty(t.prototype,"key",{get:function(){return this.key_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"presetKey",{get:function(){return this.presetKey_},enumerable:!1,configurable:!0}),t.prototype.read=function(){return this.obj_[this.key_]},t.prototype.write=function(t){this.obj_[this.key_]=t},t.prototype.writeProperty=function(e,n){var r=this.read();if(!t.isBindable(r))throw s.notBindable();if(!(e in r))throw s.propertyNotFound(e);r[e]=n},t}();function Et(t,e,n){if(!Ct.isBindable(t))throw s.notBindable();return new Ct(t,e,n)}function kt(t){"blade"===t.type?Ot.blades.unshift(t.plugin):"input"===t.type?Ot.inputs.unshift(t.plugin):"monitor"===t.type&&Ot.monitors.unshift(t.plugin)}var Mt=function(){function t(t){this.emitter=new l,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=t}return Object.defineProperty(t.prototype,"items",{get:function(){return this.items_},enumerable:!1,configurable:!0}),t.prototype.allItems=function(){return Array.from(this.cache_)},t.prototype.find=function(t){for(var e=0,n=this.allItems();e<n.length;e++){var r=n[e];if(t(r))return r}return null},t.prototype.includes=function(t){return this.cache_.has(t)},t.prototype.add=function(t,e){var n=this;if(this.includes(t))throw s.shouldNeverHappen();var r=void 0!==e?e:this.items_.length;this.items_.splice(r,0,t),this.cache_.add(t);var i=this.extract_(t);i&&(i.emitter.on("add",this.onSubListAdd_),i.emitter.on("remove",this.onSubListRemove_),i.allItems().forEach((function(t){n.cache_.add(t)}))),this.emitter.emit("add",{index:r,item:t,root:this,target:this})},t.prototype.remove=function(t){var e=this.items_.indexOf(t);if(!(e<0)){this.items_.splice(e,1),this.cache_.delete(t);var n=this.extract_(t);n&&(n.emitter.off("add",this.onSubListAdd_),n.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:e,item:t,root:this,target:this})}},t.prototype.onSubListAdd_=function(t){this.cache_.add(t.item),this.emitter.emit("add",{index:t.index,item:t.item,root:this,target:t.target})},t.prototype.onSubListRemove_=function(t){this.cache_.delete(t.item),this.emitter.emit("remove",{index:t.index,item:t.item,root:this,target:t.target})},t}();function Tt(t){return t instanceof St?t.apiSet_:t instanceof Pt?t.rackApi_.apiSet_:null}function Lt(t,e){var n=t.find((function(t){return t.controller_===e}));if(!n)throw s.shouldNeverHappen();return n}var St=function(t){function r(e){var n=t.call(this,e)||this;n.onRackAdd_=n.onRackAdd_.bind(n),n.onRackRemove_=n.onRackRemove_.bind(n),n.onRackInputChange_=n.onRackInputChange_.bind(n),n.onRackMonitorUpdate_=n.onRackMonitorUpdate_.bind(n),n.emitter_=new l,n.apiSet_=new Mt(Tt);var r=n.controller_.rack;return r.emitter.on("add",n.onRackAdd_),r.emitter.on("remove",n.onRackRemove_),r.emitter.on("inputchange",n.onRackInputChange_),r.emitter.on("monitorupdate",n.onRackMonitorUpdate_),r.children.forEach((function(t){n.setUpApi_(t)})),n}return e(r,t),Object.defineProperty(r.prototype,"children",{get:function(){var t=this;return this.controller_.rack.children.map((function(e){return Lt(t.apiSet_,e)}))},enumerable:!1,configurable:!0}),r.prototype.addInput=function(t,e,n){var r=n||{},o=function(t,e,n){if(i(e.read()))throw new s({context:{key:e.key},type:"nomatchingcontroller"});var r=Ot.inputs.reduce((function(r,i){return r||function(t,e){var n=t.accept(e.target.read(),e.params);if(null===n)return null;var r={target:e.target,initialValue:n,params:e.params},i=t.binding.reader(r),o=t.binding.constraint?t.binding.constraint(r):void 0,a=c(i(n),{constraint:o,equals:t.binding.equals}),s=new O({reader:i,target:e.target,value:a,writer:t.binding.writer(r)}),l=t.controller({constraint:o,document:e.document,initialValue:n,params:e.params,value:s.value,viewProps:z.create({disabled:e.params.disabled,hidden:e.params.hidden})});return rt(l,t.id),new U(e.document,{binding:s,blade:h(),props:d.fromObject({label:e.params.label||e.target.key}),valueController:l})}(i,{document:t,target:e,params:n})}),null);if(r)return r;throw new s({context:{key:e.key},type:"nomatchingcontroller"})}(this.controller_.view.element.ownerDocument,Et(t,e,r.presetKey),r),a=new bt(o);return this.add(a,r.index)},r.prototype.addMonitor=function(t,e,n){var r=n||{},i=function(t,e,n){var r=Ot.monitors.reduce((function(r,i){return r||function(t,e){var n,r,i=t.accept(e.target.read(),e.params);if(null===i)return null;var o={target:e.target,initialValue:i,params:e.params},a=t.binding.reader(o),s=null!==(r=null!==(n=e.params.bufferSize)&&void 0!==n?n:t.binding.defaultBufferSize&&t.binding.defaultBufferSize(e.params))&&void 0!==r?r:1,l=new st({reader:a,target:e.target,ticker:ct(e.document,e.params.interval),value:at(s)}),u=t.controller({document:e.document,params:e.params,value:l.value,viewProps:z.create({disabled:e.params.disabled,hidden:e.params.hidden})});return rt(u,t.id),new it(e.document,{binding:l,blade:h(),props:d.fromObject({label:e.params.label||e.target.key}),valueController:u})}(i,{document:t,params:n,target:e})}),null);if(r)return r;throw new s({context:{key:e.key},type:"nomatchingcontroller"})}(this.controller_.view.element.ownerDocument,Et(t,e),r),o=new gt(i);return this.add(o,r.index)},r.prototype.addFolder=function(t){return function(t,e){return t.addBlade_v3_(n(n({},e),{view:"folder"}))}(this,t)},r.prototype.addButton=function(t){return function(t,e){return t.addBlade_v3_(n(n({},e),{view:"button"}))}(this,t)},r.prototype.addSeparator=function(t){return function(t,e){var r=e||{};return t.addBlade_v3_(n(n({},r),{view:"separator"}))}(this,t)},r.prototype.addTab=function(t){return function(t,e){return t.addBlade_v3_(n(n({},e),{view:"tab"}))}(this,t)},r.prototype.add=function(t,e){this.controller_.rack.add(t.controller_,e);var n=this.apiSet_.find((function(e){return e.controller_===t.controller_}));return n&&this.apiSet_.remove(n),this.apiSet_.add(t),t},r.prototype.remove=function(t){this.controller_.rack.remove(t.controller_)},r.prototype.addBlade_v3_=function(t){var e=null!=t?t:{},r=It(function(t,e){var r=Ot.blades.reduce((function(r,i){return r||function(t,e){var r=t.accept(e.params);if(!r)return null;var i=yt.optional.boolean(e.params.disabled).value,o=yt.optional.boolean(e.params.hidden).value;return t.controller({blade:h(),document:e.document,params:n(n({},r.params),{disabled:i,hidden:o}),viewProps:z.create({disabled:i,hidden:o})})}(i,{document:t,params:e})}),null);if(!r)throw new s({type:"nomatchingview",context:{params:e}});return r}(this.controller_.view.element.ownerDocument,e));return this.add(r,e.index)},r.prototype.on=function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this},r.prototype.setUpApi_=function(t){this.apiSet_.find((function(e){return e.controller_===t}))||this.apiSet_.add(It(t))},r.prototype.onRackAdd_=function(t){this.setUpApi_(t.bladeController)},r.prototype.onRackRemove_=function(t){if(t.isRoot){var e=Lt(this.apiSet_,t.bladeController);this.apiSet_.remove(e)}},r.prototype.onRackInputChange_=function(t){var e=Lt(this.apiSet_,t.bindingController),n=t.bindingController.binding;this.emitter_.emit("change",{event:new vt(e,n.target.read(),n.target.presetKey)})},r.prototype.onRackMonitorUpdate_=function(t){var e=Lt(this.apiSet_,t.bindingController),n=t.bindingController.binding;this.emitter_.emit("update",{event:new ft(e,n.target.read(),n.target.presetKey)})},r}(dt),At=function(t,e){var n=f(e.viewName);this.element=t.createElement("div"),this.element.classList.add(n()),e.viewProps.bindClassModifiers(this.element)},Vt=function(t){function n(e){var n=t.call(this,{blade:e.blade,view:e.view,viewProps:e.rackController.viewProps})||this;return n.rackController=e.rackController,n}return e(n,t),n}(g);function Rt(t){return t instanceof Ut?t.rack:t instanceof Vt?t.rackController.rack:null}function jt(t){var e=Rt(t);return e?e.bcSet_:null}var Dt=function(){function t(t){var e;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendaantMonitorUpdate_=this.onDescendaantMonitorUpdate_.bind(this),this.emitter=new l,this.blade_=null!=t?t:null,null===(e=this.blade_)||void 0===e||e.value("positions").emitter.on("change",this.onBladePositionsChange_),this.bcSet_=new Mt(jt),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}return Object.defineProperty(t.prototype,"children",{get:function(){return this.bcSet_.items},enumerable:!1,configurable:!0}),t.prototype.add=function(t,e){t.parent&&t.parent.remove(t),t.parent_=this,this.bcSet_.add(t,e)},t.prototype.remove=function(t){t.parent_=null,this.bcSet_.remove(t)},t.prototype.find=function(t){return this.bcSet_.allItems().filter((function(e){return e instanceof t}))},t.prototype.onSetAdd_=function(t){this.updatePositions_();var e=t.target===t.root;if(this.emitter.emit("add",{bladeController:t.item,index:t.index,isRoot:e,sender:this}),e){var n=t.item;if(n.viewProps.emitter.on("change",this.onChildViewPropsChange_),n.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),n.viewProps.handleDispose(this.onChildDispose_),n instanceof U)n.binding.emitter.on("change",this.onChildInputChange_);else if(n instanceof it)n.binding.emitter.on("update",this.onChildMonitorUpdate_);else{var r=Rt(n);if(r){var i=r.emitter;i.on("layout",this.onDescendantLayout_),i.on("inputchange",this.onDescendantInputChange_),i.on("monitorupdate",this.onDescendaantMonitorUpdate_)}}}},t.prototype.onSetRemove_=function(t){this.updatePositions_();var e=t.target===t.root;if(this.emitter.emit("remove",{bladeController:t.item,isRoot:e,sender:this}),e){var n=t.item;if(n instanceof U)n.binding.emitter.off("change",this.onChildInputChange_);else if(n instanceof it)n.binding.emitter.off("update",this.onChildMonitorUpdate_);else{var r=Rt(n);if(r){var i=r.emitter;i.off("layout",this.onDescendantLayout_),i.off("inputchange",this.onDescendantInputChange_),i.off("monitorupdate",this.onDescendaantMonitorUpdate_)}}}},t.prototype.updatePositions_=function(){var t=this,e=this.bcSet_.items.filter((function(t){return!t.viewProps.get("hidden")})),n=e[0],r=e[e.length-1];this.bcSet_.items.forEach((function(e){var i=[];e===n&&(i.push("first"),t.blade_&&!t.blade_.get("positions").includes("veryfirst")||i.push("veryfirst")),e===r&&(i.push("last"),t.blade_&&!t.blade_.get("positions").includes("verylast")||i.push("verylast")),e.blade.set("positions",i)}))},t.prototype.onChildPositionsChange_=function(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})},t.prototype.onChildViewPropsChange_=function(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})},t.prototype.onChildDispose_=function(){var t=this;this.bcSet_.items.filter((function(t){return t.viewProps.get("disposed")})).forEach((function(e){t.bcSet_.remove(e)}))},t.prototype.onChildInputChange_=function(t){var e=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r instanceof U&&r.binding===e)return r}return null}(this.find(U),t.sender);if(!e)throw s.shouldNeverHappen();this.emitter.emit("inputchange",{bindingController:e,sender:this})},t.prototype.onChildMonitorUpdate_=function(t){var e=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r instanceof it&&r.binding===e)return r}return null}(this.find(it),t.sender);if(!e)throw s.shouldNeverHappen();this.emitter.emit("monitorupdate",{bindingController:e,sender:this})},t.prototype.onDescendantLayout_=function(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})},t.prototype.onDescendantInputChange_=function(t){this.emitter.emit("inputchange",{bindingController:t.bindingController,sender:this})},t.prototype.onDescendaantMonitorUpdate_=function(t){this.emitter.emit("monitorupdate",{bindingController:t.bindingController,sender:this})},t.prototype.onBladePositionsChange_=function(){this.updatePositions_()},t}(),Ut=function(t){function r(e,r){var i=t.call(this,n(n({},r),{view:new At(e,{viewName:"brk",viewProps:r.viewProps})}))||this;i.onRackAdd_=i.onRackAdd_.bind(i),i.onRackRemove_=i.onRackRemove_.bind(i);var o=new Dt(r.root?void 0:r.blade);return o.emitter.on("add",i.onRackAdd_),o.emitter.on("remove",i.onRackRemove_),i.rack=o,i.viewProps.handleDispose((function(){for(var t=i.rack.children.length-1;t>=0;t--)i.rack.children[t].viewProps.set("disposed",!0)})),i}return e(r,t),r.prototype.onRackAdd_=function(t){t.isRoot&&k(this.view.element,t.bladeController.view.element,t.index)},r.prototype.onRackRemove_=function(t){t.isRoot&&M(t.bladeController.view.element)},r}(g),Ot={blades:[],inputs:[],monitors:[]};function It(t){if(t instanceof U)return new bt(t);if(t instanceof it)return new gt(t);if(t instanceof Ut)return new St(t);var e=Ot.blades.reduce((function(e,n){return e||n.api(t)}),null);if(!e)throw s.shouldNeverHappen();return e}var Ft=f("lst"),Nt=function(){function t(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.props_=e.props,this.element=t.createElement("div"),this.element.classList.add(Ft()),e.viewProps.bindClassModifiers(this.element);var n=t.createElement("select");n.classList.add(Ft("s")),V(this.props_,"options",(function(e){T(n),e.forEach((function(e,r){var i=t.createElement("option");i.dataset.index=String(r),i.textContent=e.text,i.value=String(e.value),n.appendChild(i)}))})),e.viewProps.bindDisabled(n),this.element.appendChild(n),this.selectElement=n;var r=t.createElement("div");r.classList.add(Ft("m")),r.appendChild(E(t,"dropdown")),this.element.appendChild(r),e.value.emitter.on("change",this.onValueChange_),this.value_=e.value,this.update_()}return t.prototype.update_=function(){this.selectElement.value=String(this.value_.rawValue)},t.prototype.onValueChange_=function(){this.update_()},t}(),Bt=function(){function t(t,e){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=e.props,this.value=e.value,this.viewProps=e.viewProps,this.view=new Nt(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}return t.prototype.onSelectChange_=function(t){var e=t.currentTarget.selectedOptions.item(0);if(e){var n=Number(e.dataset.index);this.value.rawValue=this.props.get("options")[n].value}},t}(),zt=function(t){function n(e){var n=t.call(this,e)||this;return n.emitter_=new l,n.controller_.valueController.value.emitter.on("change",(function(t){n.emitter_.emit("change",{event:new vt(n,t.rawValue)})})),n}return e(n,t),Object.defineProperty(n.prototype,"label",{get:function(){return this.controller_.props.get("label")},set:function(t){this.controller_.props.set("label",t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"options",{get:function(){return this.controller_.valueController.props.get("options")},set:function(t){this.controller_.valueController.props.set("options",t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this.controller_.valueController.value.rawValue},set:function(t){this.controller_.valueController.value.rawValue=t},enumerable:!1,configurable:!0}),n.prototype.on=function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this},n}(dt);function Kt(t){var e=yt;return Array.isArray(t)?e.required.array(e.required.object({text:e.required.string,value:e.required.raw}))(t).value:"object"==typeof t?e.required.raw(t).value:void 0}var Ht={id:"list",accept:function(t){var e=yt,n=xt(t,{options:e.required.custom(Kt),value:e.required.raw,view:e.required.constant("list"),label:e.optional.string});return n?{params:n}:null},controller:function(t){var e=new Bt(t.document,{props:d.fromObject({options:$(t.params.options)}),value:c(t.params.value),viewProps:t.viewProps});return new D(t.document,{blade:t.blade,props:d.fromObject({label:t.params.label}),valueController:e})},api:function(t){return t instanceof D&&t.valueController instanceof Bt?new zt(t):null}},qt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),Object.defineProperty(n.prototype,"disabled",{get:function(){return this.controller_.viewProps.get("disabled")},set:function(t){this.controller_.viewProps.set("disabled",t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hidden",{get:function(){return this.controller_.viewProps.get("hidden")},set:function(t){this.controller_.viewProps.set("hidden",t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"label",{get:function(){return this.controller_.props.get("label")},set:function(t){this.controller_.props.set("label",t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){var t;return null!==(t=this.controller_.valueController.props.get("title"))&&void 0!==t?t:""},set:function(t){this.controller_.valueController.props.set("title",t)},enumerable:!1,configurable:!0}),n.prototype.on=function(t,e){return this.controller_.valueController.emitter.on(t,e.bind(this)),this},n}(dt),Gt=f("btn"),Xt=function(t,e){this.element=t.createElement("div"),this.element.classList.add(Gt()),e.viewProps.bindClassModifiers(this.element);var n=t.createElement("button");n.classList.add(Gt("b")),e.viewProps.bindDisabled(n),F(e.props.value("title"),n),this.element.appendChild(n),this.buttonElement=n},Yt=function(){function t(t,e){this.emitter=new l,this.onClick_=this.onClick_.bind(this),this.props=e.props,this.viewProps=e.viewProps,this.view=new Xt(t,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}return t.prototype.onClick_=function(){this.emitter.emit("click",{sender:this})},t}(),Qt={id:"button",accept:function(t){var e=yt,n=xt(t,{title:e.required.string,view:e.required.constant("button"),label:e.optional.string});return n?{params:n}:null},controller:function(t){return new D(t.document,{blade:t.blade,props:d.fromObject({label:t.params.label}),valueController:new Yt(t.document,{props:d.fromObject({title:t.params.title}),viewProps:t.viewProps})})},api:function(t){return t instanceof D&&t.valueController instanceof Yt?new qt(t):null}},Wt=function(t){function n(e){var n=t.call(this,e,new St(e.rackController))||this;return n.emitter_=new l,n.controller_.foldable.value("expanded").emitter.on("change",(function(t){n.emitter_.emit("fold",{event:new mt(n,t.sender.rawValue)})})),n.rackApi_.on("change",(function(t){n.emitter_.emit("change",{event:t})})),n.rackApi_.on("update",(function(t){n.emitter_.emit("update",{event:t})})),n}return e(n,t),Object.defineProperty(n.prototype,"expanded",{get:function(){return this.controller_.foldable.get("expanded")},set:function(t){this.controller_.foldable.set("expanded",t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"title",{get:function(){return this.controller_.props.get("title")},set:function(t){this.controller_.props.set("title",t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"children",{get:function(){return this.rackApi_.children},enumerable:!1,configurable:!0}),n.prototype.addInput=function(t,e,n){return this.rackApi_.addInput(t,e,n)},n.prototype.addMonitor=function(t,e,n){return this.rackApi_.addMonitor(t,e,n)},n.prototype.addFolder=function(t){return this.rackApi_.addFolder(t)},n.prototype.addButton=function(t){return this.rackApi_.addButton(t)},n.prototype.addSeparator=function(t){return this.rackApi_.addSeparator(t)},n.prototype.addTab=function(t){return this.rackApi_.addTab(t)},n.prototype.add=function(t,e){return this.rackApi_.add(t,e)},n.prototype.remove=function(t){this.rackApi_.remove(t)},n.prototype.addBlade_v3_=function(t){return this.rackApi_.addBlade_v3_(t)},n.prototype.on=function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this},n}(Pt);function $t(t){return d.fromObject({expanded:t,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null})}function Jt(t){var e;return null!==(e=t.get("temporaryExpanded"))&&void 0!==e?e:t.get("expanded")}function Zt(t,e){e.style.height=function(t){if(!Jt(t))return"0";var e=t.get("expandedHeight");return t.get("shouldFixHeight")&&!i(e)?e+"px":"auto"}(t)}function te(t,e){t.value("expanded").emitter.on("beforechange",(function(){var n,r,o,a,s,l;i(t.get("expandedHeight"))&&t.set("expandedHeight",(n=t,l=0,a=function(){n.set("expandedHeight",null),n.set("temporaryExpanded",!0),w(r),l=r.clientHeight,n.set("temporaryExpanded",null),w(r)},s=(o=r=e).style.transition,o.style.transition="none",a(),o.style.transition=s,l)),t.set("shouldFixHeight",!0),w(e)})),t.emitter.on("change",(function(){Zt(t,e)})),Zt(t,e),e.addEventListener("transitionend",(function(e){"height"===e.propertyName&&(t.set("shouldFixHeight",!1),t.set("expandedHeight",null))}))}var ee=f("cnt"),ne=function(){function t(t,e){var n=this;this.onFoldableExpandedChange_=this.onFoldableExpandedChange_.bind(this),this.className_=f(e.viewName||"fld"),this.element=t.createElement("div"),this.element.classList.add(this.className_(),ee()),e.viewProps.bindClassModifiers(this.element),this.foldable_=e.foldable,V(this.foldable_,"expanded",this.onFoldableExpandedChange_);var r=t.createElement("button");r.classList.add(this.className_("b")),V(e.props,"title",(function(t){i(t)?n.element.classList.add(n.className_(void 0,"not")):n.element.classList.remove(n.className_(void 0,"not"))})),e.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;var o=t.createElement("div");o.classList.add(this.className_("t")),F(e.props.value("title"),o),this.buttonElement.appendChild(o),this.titleElement=o;var a=t.createElement("div");a.classList.add(this.className_("m")),this.buttonElement.appendChild(a);var s=e.containerElement;s.classList.add(this.className_("c")),this.element.appendChild(s),this.containerElement=s}return t.prototype.onFoldableExpandedChange_=function(){var t=Jt(this.foldable_),e=this.className_(void 0,"expanded");t?this.element.classList.add(e):this.element.classList.remove(e)},t}(),re=function(t){function r(e,r){var i,o=this,a=$t(null===(i=r.expanded)||void 0===i||i),s=new Ut(e,{blade:r.blade,root:r.root,viewProps:r.viewProps});return(o=t.call(this,n(n({},r),{rackController:s,view:new ne(e,{containerElement:s.view.element,foldable:a,props:r.props,viewName:r.root?"rot":void 0,viewProps:r.viewProps})}))||this).onTitleClick_=o.onTitleClick_.bind(o),o.props=r.props,o.foldable=a,te(o.foldable,o.view.containerElement),o.view.buttonElement.addEventListener("click",o.onTitleClick_),o}return e(r,t),Object.defineProperty(r.prototype,"document",{get:function(){return this.view.element.ownerDocument},enumerable:!1,configurable:!0}),r.prototype.onTitleClick_=function(){this.foldable.set("expanded",!this.foldable.get("expanded"))},r}(Vt),ie={id:"button",accept:function(t){var e=yt,n=xt(t,{title:e.required.string,view:e.required.constant("folder"),expanded:e.optional.boolean});return n?{params:n}:null},controller:function(t){return new re(t.document,{blade:t.blade,expanded:t.params.expanded,props:d.fromObject({title:t.params.title}),viewProps:t.viewProps})},api:function(t){return t instanceof re?new Wt(t):null}},oe=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n}(dt),ae=f("spr"),se=function(t,e){this.element=t.createElement("div"),this.element.classList.add(ae()),e.viewProps.bindClassModifiers(this.element);var n=t.createElement("hr");n.classList.add(ae("r")),this.element.appendChild(n)},le=function(t){function r(e,r){return t.call(this,n(n({},r),{view:new se(e,{viewProps:r.viewProps})}))||this}return e(r,t),r}(g),ue={id:"separator",accept:function(t){var e=xt(t,{view:yt.required.constant("separator")});return e?{params:e}:null},controller:function(t){return new le(t.document,{blade:t.blade,viewProps:t.viewProps})},api:function(t){return t instanceof le?new oe(t):null}};var pe=function(t){function n(e){return t.call(this,e)||this}return e(n,t),n.registerPlugin=function(t){kt(t)},Object.defineProperty(n.prototype,"element",{get:function(){return this.controller_.view.element},enumerable:!1,configurable:!0}),n.prototype.importPreset=function(t){(function(t,e){t.forEach((function(t){var n=e[t.presetKey];void 0!==n&&t.write(n)}))})(this.controller_.rackController.rack.find(U).map((function(t){return t.binding.target})),t),this.refresh()},n.prototype.exportPreset=function(){return this.controller_.rackController.rack.find(U).map((function(t){return t.binding.target})).reduce((function(t,e){var n;return Object.assign(t,((n={})[e.presetKey]=e.read(),n))}),{})},n.prototype.refresh=function(){this.controller_.rackController.rack.find(U).forEach((function(t){t.binding.read()})),this.controller_.rackController.rack.find(it).forEach((function(t){t.binding.read()}))},n}(Wt);[Qt,ie,ue].forEach((function(t){kt({type:"blade",plugin:t})}));var ce=function(t){function n(e,n){return t.call(this,e,{expanded:n.expanded,blade:n.blade,props:n.props,root:!0,viewProps:n.viewProps})||this}return e(n,t),n}(re),de=function(){function t(t){this.text=t}return t.prototype.evaluate=function(){return Number(this.text)},t.prototype.toString=function(){return this.text},t}(),he={"**":function(t,e){return Math.pow(t,e)},"*":function(t,e){return t*e},"/":function(t,e){return t/e},"%":function(t,e){return t%e},"+":function(t,e){return t+e},"-":function(t,e){return t-e},"<<":function(t,e){return t<<e},">>":function(t,e){return t>>e},">>>":function(t,e){return t>>>e},"&":function(t,e){return t&e},"^":function(t,e){return t^e},"|":function(t,e){return t|e}},ve=function(){function t(t,e,n){this.left=e,this.operator=t,this.right=n}return t.prototype.evaluate=function(){var t=he[this.operator];if(!t)throw new Error("unexpected binary operator: '"+this.operator);return t(this.left.evaluate(),this.right.evaluate())},t.prototype.toString=function(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")},t}(),fe={"+":function(t){return t},"-":function(t){return-t},"~":function(t){return~t}},me=function(){function t(t,e){this.operator=t,this.expression=e}return t.prototype.evaluate=function(){var t=fe[this.operator];if(!t)throw new Error("unexpected unary operator: '"+this.operator);return t(this.expression.evaluate())},t.prototype.toString=function(){return["u(",this.operator,this.expression.toString(),")"].join(" ")},t}();function be(t){return function(e,n){for(var r=0;r<t.length;r++){var i=t[r](e,n);if(""!==i)return i}return""}}function ge(t,e){var n,r=t.substr(e).match(/^\s+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}function _e(t,e){var n,r=t.substr(e).match(/^[0-9]+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}function we(t,e){var n=t.substr(e,1);if(e+=1,"e"!==n.toLowerCase())return"";var r=function(t,e){var n=_e(t,e);if(""!==n)return n;var r=t.substr(e,1);if("-"!==r&&"+"!==r)return"";var i=_e(t,e+=1);return""===i?"":r+i}(t,e);return""===r?"":n+r}function ye(t,e){var n=t.substr(e,1);if("0"===n)return n;var r=function(t,e){var n=t.substr(e,1);return n.match(/^[1-9]$/)?n:""}(t,e);return e+=r.length,""===r?"":r+_e(t,e)}var xe=be([function(t,e){var n=ye(t,e);if(e+=n.length,""===n)return"";var r=t.substr(e,1);if(e+=r.length,"."!==r)return"";var i=_e(t,e);return n+r+i+we(t,e+=i.length)},function(t,e){var n=t.substr(e,1);if(e+=n.length,"."!==n)return"";var r=_e(t,e);return e+=r.length,""===r?"":n+r+we(t,e)},function(t,e){var n=ye(t,e);return e+=n.length,""===n?"":n+we(t,e)}]);var Pe=be([function(t,e){var n=t.substr(e,2);if(e+=n.length,"0b"!==n.toLowerCase())return"";var r=function(t,e){var n,r=t.substr(e).match(/^[01]+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}(t,e);return""===r?"":n+r},function(t,e){var n=t.substr(e,2);if(e+=n.length,"0o"!==n.toLowerCase())return"";var r=function(t,e){var n,r=t.substr(e).match(/^[0-7]+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}(t,e);return""===r?"":n+r},function(t,e){var n=t.substr(e,2);if(e+=n.length,"0x"!==n.toLowerCase())return"";var r=function(t,e){var n,r=t.substr(e).match(/^[0-9a-f]+/i);return null!==(n=r&&r[0])&&void 0!==n?n:""}(t,e);return""===r?"":n+r}]),Ce=be([Pe,xe]);function Ee(t,e){return function(t,e){var n=Ce(t,e);return e+=n.length,""===n?null:{evaluable:new de(n),cursor:e}}(t,e)||function(t,e){var n=t.substr(e,1);if(e+=n.length,"("!==n)return null;var r=Te(t,e);if(!r)return null;e=r.cursor,e+=ge(t,e).length;var i=t.substr(e,1);return e+=i.length,")"!==i?null:{evaluable:r.evaluable,cursor:e}}(t,e)}function ke(t,e,n){n+=ge(e,n).length;var r=t.filter((function(t){return e.startsWith(t,n)}))[0];return r?(n+=r.length,{cursor:n+=ge(e,n).length,operator:r}):null}var Me=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((function(t,e){return function(t,e){return function(n,r){var i=t(n,r);if(!i)return null;r=i.cursor;for(var o=i.evaluable;;){var a=ke(e,n,r);if(!a)break;r=a.cursor;var s=t(n,r);if(!s)return null;r=s.cursor,o=new ve(a.operator,o,s.evaluable)}return o?{cursor:r,evaluable:o}:null}}(t,e)}),(function t(e,n){var r=Ee(e,n);if(r)return r;var i=e.substr(n,1);if(n+=i.length,"+"!==i&&"-"!==i&&"~"!==i)return null;var o=t(e,n);return o?{cursor:n=o.cursor,evaluable:new me(i,o.evaluable)}:null}));function Te(t,e){return e+=ge(t,e).length,Me(t,e)}function Le(t){var e,n=function(t){var e=Te(t,0);return e?e.cursor+ge(t,e.cursor).length!==t.length?null:e.evaluable:null}(t);return null!==(e=null==n?void 0:n.evaluate())&&void 0!==e?e:null}function Se(t){if("number"==typeof t)return t;if("string"==typeof t){var e=Le(t);if(!i(e))return e}return 0}function Ae(t){return String(t)}function Ve(t){return function(e){return e.toFixed(Math.max(Math.min(t,20),0))}}var Re=f("sldtxt"),je=function(t,e){this.element=t.createElement("div"),this.element.classList.add(Re());var n=t.createElement("div");n.classList.add(Re("s")),this.sliderView_=e.sliderView,n.appendChild(this.sliderView_.element),this.element.appendChild(n);var r=t.createElement("div");r.classList.add(Re("t")),this.textView_=e.textView,r.appendChild(this.textView_.element),this.element.appendChild(r)};function De(t,e){var n=t*(e.altKey?.1:1)*(e.shiftKey?10:1);return e.upKey?+n:e.downKey?-n:0}function Ue(t){return{altKey:t.altKey,downKey:"ArrowDown"===t.key,shiftKey:t.shiftKey,upKey:"ArrowUp"===t.key}}function Oe(t){return{altKey:t.altKey,downKey:"ArrowLeft"===t.key,shiftKey:t.shiftKey,upKey:"ArrowRight"===t.key}}function Ie(t){return function(t){return"ArrowUp"===t||"ArrowDown"===t}(t)||"ArrowLeft"===t||"ArrowRight"===t}function Fe(t,e){var n=e.ownerDocument.defaultView,r=e.getBoundingClientRect();return{x:t.pageX-((n&&n.scrollX||0)+r.left),y:t.pageY-((n&&n.scrollY||0)+r.top)}}var Ne=function(){function t(t){this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=t,this.emitter=new l,y(this.elem_.ownerDocument)?(t.addEventListener("touchstart",this.onTouchStart_),t.addEventListener("touchmove",this.onTouchMove_),t.addEventListener("touchend",this.onTouchEnd_)):t.addEventListener("mousedown",this.onMouseDown_)}return t.prototype.computePosition_=function(t){var e=this.elem_.getBoundingClientRect();return{bounds:{width:e.width,height:e.height},point:t?{x:t.x,y:t.y}:null}},t.prototype.onMouseDown_=function(t){var e;t.preventDefault(),null===(e=t.currentTarget)||void 0===e||e.focus();var n=this.elem_.ownerDocument;n.addEventListener("mousemove",this.onDocumentMouseMove_),n.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(Fe(t,this.elem_)),sender:this,shiftKey:t.shiftKey})},t.prototype.onDocumentMouseMove_=function(t){this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(Fe(t,this.elem_)),sender:this,shiftKey:t.shiftKey})},t.prototype.onDocumentMouseUp_=function(t){var e=this.elem_.ownerDocument;e.removeEventListener("mousemove",this.onDocumentMouseMove_),e.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(Fe(t,this.elem_)),sender:this,shiftKey:t.shiftKey})},t.prototype.onTouchStart_=function(t){t.preventDefault();var e=t.targetTouches.item(0),n=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(e?{x:e.clientX-n.left,y:e.clientY-n.top}:void 0),sender:this,shiftKey:t.shiftKey})},t.prototype.onTouchMove_=function(t){var e=t.targetTouches.item(0),n=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(e?{x:e.clientX-n.left,y:e.clientY-n.top}:void 0),sender:this,shiftKey:t.shiftKey})},t.prototype.onTouchEnd_=function(t){var e=t.targetTouches.item(0),n=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(e?{x:e.clientX-n.left,y:e.clientY-n.top}:void 0),sender:this,shiftKey:t.shiftKey})},t}(),Be=f("txt"),ze=function(){function t(t,e){this.onChange_=this.onChange_.bind(this),this.props_=e.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(Be(),Be(void 0,"num")),e.arrayPosition&&this.element.classList.add(Be(void 0,e.arrayPosition)),e.viewProps.bindClassModifiers(this.element);var n=t.createElement("input");n.classList.add(Be("i")),n.type="text",e.viewProps.bindDisabled(n),this.element.appendChild(n),this.inputElement=n,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=e.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Be()),this.inputElement.classList.add(Be("i"));var r=t.createElement("div");r.classList.add(Be("k")),this.element.appendChild(r),this.knobElement=r;var i=t.createElementNS(_,"svg");i.classList.add(Be("g")),this.knobElement.appendChild(i);var o=t.createElementNS(_,"path");o.classList.add(Be("gb")),i.appendChild(o),this.guideBodyElem_=o;var a=t.createElementNS(_,"path");a.classList.add(Be("gh")),i.appendChild(a),this.guideHeadElem_=a;var s=t.createElement("div");s.classList.add(f("tt")()),this.knobElement.appendChild(s),this.tooltipElem_=s,e.value.emitter.on("change",this.onChange_),this.value=e.value,this.refresh()}return t.prototype.onDraggingChange_=function(t){if(null!==t.rawValue){this.element.classList.add(Be(void 0,"drg"));var e=t.rawValue/this.props_.get("draggingScale"),n=e+(e>0?-1:e<0?1:0),r=Q(-n,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",["M "+(n+r)+",0 L"+n+",4 L"+(n+r)+",8","M "+e+",-1 L"+e+",9"].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d","M 0,4 L"+e+",4");var i=this.props_.get("formatter");this.tooltipElem_.textContent=i(this.value.rawValue),this.tooltipElem_.style.left=e+"px"}else this.element.classList.remove(Be(void 0,"drg"))},t.prototype.refresh=function(){var t=this.props_.get("formatter");this.inputElement.value=t(this.value.rawValue)},t.prototype.onChange_=function(){this.refresh()},t}(),Ke=function(){function t(t,e){this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=e.baseStep,this.parser_=e.parser,this.props=e.props,this.value=e.value,this.viewProps=e.viewProps,this.dragging_=c(null),this.view=new ze(t,{arrayPosition:e.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_);var n=new Ne(this.view.knobElement);n.emitter.on("down",this.onPointerDown_),n.emitter.on("move",this.onPointerMove_),n.emitter.on("up",this.onPointerUp_)}return t.prototype.onInputChange_=function(t){var e=t.currentTarget.value,n=this.parser_(e);i(n)||(this.value.rawValue=n),this.view.refresh()},t.prototype.onInputKeyDown_=function(t){var e=De(this.baseStep_,Ue(t));0!==e&&(this.value.rawValue+=e)},t.prototype.onPointerDown_=function(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0},t.prototype.onPointerMove_=function(t){if(t.data.point){var e=t.data.point.x-t.data.bounds.width/2;this.value.rawValue=this.originRawValue_+e*this.props.get("draggingScale"),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_}},t.prototype.onPointerUp_=function(){this.dragging_.rawValue=null},t}(),He=f("sld"),qe=function(){function t(t,e){this.onChange_=this.onChange_.bind(this),this.props_=e.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(He()),e.viewProps.bindClassModifiers(this.element);var n=t.createElement("div");n.classList.add(He("t")),e.viewProps.bindTabIndex(n),this.element.appendChild(n),this.trackElement=n;var r=t.createElement("div");r.classList.add(He("k")),this.trackElement.appendChild(r),this.knobElement=r,e.value.emitter.on("change",this.onChange_),this.value=e.value,this.update_()}return t.prototype.update_=function(){var t=Q(X(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=t+"%"},t.prototype.onChange_=function(){this.update_()},t}(),Ge=function(){function t(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPoint_=this.onPoint_.bind(this),this.baseStep_=e.baseStep,this.value=e.value,this.viewProps=e.viewProps,this.props=e.props,this.view=new qe(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Ne(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPoint_),this.ptHandler_.emitter.on("move",this.onPoint_),this.ptHandler_.emitter.on("up",this.onPoint_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_)}return t.prototype.handlePointerEvent_=function(t){t.point&&(this.value.rawValue=X(Q(t.point.x,0,t.bounds.width),0,t.bounds.width,this.props.get("minValue"),this.props.get("maxValue")))},t.prototype.onPoint_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onKeyDown_=function(t){this.value.rawValue+=De(this.baseStep_,Oe(t))},t}(),Xe=function(){function t(t,e){this.value=e.value,this.viewProps=e.viewProps,this.sliderC_=new Ge(t,{baseStep:e.baseStep,props:e.sliderProps,value:e.value,viewProps:this.viewProps}),this.textC_=new Ke(t,{baseStep:e.baseStep,parser:e.parser,props:e.textProps,value:e.value,viewProps:e.viewProps}),this.view=new je(t,{sliderView:this.sliderC_.view,textView:this.textC_.view})}return Object.defineProperty(t.prototype,"sliderController",{get:function(){return this.sliderC_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textController",{get:function(){return this.textC_},enumerable:!1,configurable:!0}),t}(),Ye=function(t){function n(e){var n=t.call(this,e)||this;return n.emitter_=new l,n.controller_.valueController.value.emitter.on("change",(function(t){n.emitter_.emit("change",{event:new vt(n,t.rawValue)})})),n}return e(n,t),Object.defineProperty(n.prototype,"label",{get:function(){return this.controller_.props.get("label")},set:function(t){this.controller_.props.set("label",t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxValue",{get:function(){return this.controller_.valueController.sliderController.props.get("maxValue")},set:function(t){this.controller_.valueController.sliderController.props.set("maxValue",t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minValue",{get:function(){return this.controller_.valueController.sliderController.props.get("minValue")},set:function(t){this.controller_.valueController.sliderController.props.set("minValue",t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this.controller_.valueController.value.rawValue},set:function(t){this.controller_.valueController.value.rawValue=t},enumerable:!1,configurable:!0}),n.prototype.on=function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this},n}(dt),Qe={id:"slider",accept:function(t){var e=yt,n=xt(t,{max:e.required.number,min:e.required.number,view:e.required.constant("slider"),format:e.optional.function,label:e.optional.string,value:e.optional.number});return n?{params:n}:null},controller:function(t){var e,n,r=null!==(e=t.params.value)&&void 0!==e?e:0,i=new Xe(t.document,{baseStep:1,parser:Le,sliderProps:d.fromObject({maxValue:t.params.max,minValue:t.params.min}),textProps:d.fromObject({draggingScale:nt(void 0,r),formatter:null!==(n=t.params.format)&&void 0!==n?n:Ae}),value:c(r),viewProps:t.viewProps});return new D(t.document,{blade:t.blade,props:d.fromObject({label:t.params.label}),valueController:i})},api:function(t){return t instanceof D&&t.valueController instanceof Xe?new Ye(t):null}},We=f("tbi"),$e=function(t,e){var n=this;this.element=t.createElement("div"),this.element.classList.add(We()),e.viewProps.bindClassModifiers(this.element),V(e.props,"selected",(function(t){t?n.element.classList.add(We(void 0,"sel")):n.element.classList.remove(We(void 0,"sel"))}));var r=t.createElement("button");r.classList.add(We("b")),e.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;var i=t.createElement("div");i.classList.add(We("t")),F(e.props.value("title"),i),this.buttonElement.appendChild(i),this.titleElement=i},Je=function(){function t(t,e){this.emitter=new l,this.onClick_=this.onClick_.bind(this),this.props=e.props,this.viewProps=e.viewProps,this.view=new $e(t,{props:e.props,viewProps:e.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}return t.prototype.onClick_=function(){this.emitter.emit("click",{sender:this})},t}(),Ze=function(){function t(t,e){var n=this;this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new Je(t,{props:e.itemProps,viewProps:z.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new Ut(t,{blade:h(),viewProps:z.create()}),this.props=e.props,V(this.props,"selected",(function(t){n.itemController.props.set("selected",t),n.contentController.viewProps.set("hidden",!t)}))}return Object.defineProperty(t.prototype,"itemController",{get:function(){return this.ic_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentController",{get:function(){return this.cc_},enumerable:!1,configurable:!0}),t.prototype.onItemClick_=function(){this.props.set("selected",!0)},t}(),tn=function(){function t(t,e){this.controller_=t,this.rackApi_=e}return Object.defineProperty(t.prototype,"title",{get:function(){var t;return null!==(t=this.controller_.itemController.props.get("title"))&&void 0!==t?t:""},set:function(t){this.controller_.itemController.props.set("title",t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this.controller_.props.get("selected")},set:function(t){this.controller_.props.set("selected",t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this.rackApi_.children},enumerable:!1,configurable:!0}),t.prototype.addButton=function(t){return this.rackApi_.addButton(t)},t.prototype.addFolder=function(t){return this.rackApi_.addFolder(t)},t.prototype.addSeparator=function(t){return this.rackApi_.addSeparator(t)},t.prototype.addTab=function(t){return this.rackApi_.addTab(t)},t.prototype.add=function(t,e){this.rackApi_.add(t,e)},t.prototype.remove=function(t){this.rackApi_.remove(t)},t.prototype.addInput=function(t,e,n){return this.rackApi_.addInput(t,e,n)},t.prototype.addMonitor=function(t,e,n){return this.rackApi_.addMonitor(t,e,n)},t.prototype.addBlade_v3_=function(t){return this.rackApi_.addBlade_v3_(t)},t}(),en=function(t){function n(e){var n=t.call(this,e,new St(e.rackController))||this;return n.onPageAdd_=n.onPageAdd_.bind(n),n.onPageRemove_=n.onPageRemove_.bind(n),n.emitter_=new l,n.pageApiMap_=new Map,n.rackApi_.on("change",(function(t){n.emitter_.emit("change",{event:t})})),n.rackApi_.on("update",(function(t){n.emitter_.emit("update",{event:t})})),n.controller_.pageSet.emitter.on("add",n.onPageAdd_),n.controller_.pageSet.emitter.on("remove",n.onPageRemove_),n.controller_.pageSet.items.forEach((function(t){n.setUpPageApi_(t)})),n}return e(n,t),Object.defineProperty(n.prototype,"pages",{get:function(){var t=this;return this.controller_.pageSet.items.map((function(e){var n=t.pageApiMap_.get(e);if(!n)throw s.shouldNeverHappen();return n}))},enumerable:!1,configurable:!0}),n.prototype.addPage=function(t){var e=this.controller_.view.element.ownerDocument,n=new Ze(e,{itemProps:d.fromObject({selected:!1,title:t.title}),props:d.fromObject({selected:!1})});this.controller_.add(n,t.index);var r=this.pageApiMap_.get(n);if(!r)throw s.shouldNeverHappen();return r},n.prototype.removePage=function(t){this.controller_.remove(t)},n.prototype.on=function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this},n.prototype.setUpPageApi_=function(t){var e=this.rackApi_.apiSet_.find((function(e){return e.controller_===t.contentController}));if(!e)throw s.shouldNeverHappen();var n=new tn(t,e);this.pageApiMap_.set(t,n)},n.prototype.onPageAdd_=function(t){this.setUpPageApi_(t.item)},n.prototype.onPageRemove_=function(t){if(!this.pageApiMap_.get(t.item))throw s.shouldNeverHappen();this.pageApiMap_.delete(t.item)},n}(Pt),nn=f("tab"),rn=function(t,e){this.element=t.createElement("div"),this.element.classList.add(nn(),ee()),e.viewProps.bindClassModifiers(this.element),A(e.empty,I(this.element,nn(void 0,"nop")));var n=t.createElement("div");n.classList.add(nn("i")),this.element.appendChild(n),this.itemsElement=n;var r=e.contentsElement;r.classList.add(nn("c")),this.element.appendChild(r),this.contentsElement=r},on=function(t){function n(e,n){var r=this,i=new Ut(e,{blade:n.blade,viewProps:n.viewProps}),o=c(!0);return(r=t.call(this,{blade:n.blade,rackController:i,view:new rn(e,{contentsElement:i.view.element,empty:o,viewProps:n.viewProps})})||this).onPageAdd_=r.onPageAdd_.bind(r),r.onPageRemove_=r.onPageRemove_.bind(r),r.onPageSelectedChange_=r.onPageSelectedChange_.bind(r),r.pageSet_=new Mt((function(){return null})),r.pageSet_.emitter.on("add",r.onPageAdd_),r.pageSet_.emitter.on("remove",r.onPageRemove_),r.empty_=o,r.applyPages_(),r}return e(n,t),Object.defineProperty(n.prototype,"pageSet",{get:function(){return this.pageSet_},enumerable:!1,configurable:!0}),n.prototype.add=function(t,e){this.pageSet_.add(t,null!=e?e:this.pageSet_.items.length)},n.prototype.remove=function(t){this.pageSet_.remove(this.pageSet_.items[t])},n.prototype.applyPages_=function(){this.keepSelection_(),this.empty_.rawValue=0===this.pageSet_.items.length},n.prototype.onPageAdd_=function(t){var e=t.item;k(this.view.itemsElement,e.itemController.view.element,t.index),this.rackController.rack.add(e.contentController,t.index),e.props.value("selected").emitter.on("change",this.onPageSelectedChange_),this.applyPages_()},n.prototype.onPageRemove_=function(t){var e=t.item;M(e.itemController.view.element),this.rackController.rack.remove(e.contentController),e.props.value("selected").emitter.off("change",this.onPageSelectedChange_),this.applyPages_()},n.prototype.keepSelection_=function(){if(0!==this.pageSet_.items.length){var t=this.pageSet_.items.findIndex((function(t){return t.props.get("selected")}));t<0?this.pageSet_.items.forEach((function(t,e){t.props.set("selected",0===e)})):this.pageSet_.items.forEach((function(e,n){e.props.set("selected",n===t)}))}},n.prototype.onPageSelectedChange_=function(t){if(t.rawValue){var e=this.pageSet_.items.findIndex((function(e){return e.props.value("selected")===t.sender}));this.pageSet_.items.forEach((function(t,n){t.props.set("selected",n===e)}))}else this.keepSelection_()},n}(Vt),an={id:"tab",accept:function(t){var e=yt,n=xt(t,{pages:e.required.array(e.required.object({title:e.required.string})),view:e.required.constant("tab")});return n&&0!==n.pages.length?{params:n}:null},controller:function(t){var e=new on(t.document,{blade:t.blade,viewProps:t.viewProps});return t.params.pages.forEach((function(n){var r=new Ze(t.document,{itemProps:d.fromObject({selected:!1,title:n.title}),props:d.fromObject({selected:!1})});e.add(r)})),e},api:function(t){return t instanceof on?new en(t):null}},sn=f("txt"),ln=function(){function t(t,e){this.onChange_=this.onChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(sn()),e.viewProps.bindClassModifiers(this.element),this.props_=e.props,this.props_.emitter.on("change",this.onChange_);var n=t.createElement("input");n.classList.add(sn("i")),n.type="text",e.viewProps.bindDisabled(n),this.element.appendChild(n),this.inputElement=n,e.value.emitter.on("change",this.onChange_),this.value_=e.value,this.refresh()}return t.prototype.refresh=function(){var t=this.props_.get("formatter");this.inputElement.value=t(this.value_.rawValue)},t.prototype.onChange_=function(){this.refresh()},t}(),un=function(){function t(t,e){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=e.parser,this.props=e.props,this.value=e.value,this.viewProps=e.viewProps,this.view=new ln(t,{props:e.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}return t.prototype.onInputChange_=function(t){var e=t.currentTarget.value,n=this.parser_(e);i(n)||(this.value.rawValue=n),this.view.refresh()},t}(),pn=function(t){function n(e){var n=t.call(this,e)||this;return n.emitter_=new l,n.controller_.valueController.value.emitter.on("change",(function(t){n.emitter_.emit("change",{event:new vt(n,t.rawValue)})})),n}return e(n,t),Object.defineProperty(n.prototype,"label",{get:function(){return this.controller_.props.get("label")},set:function(t){this.controller_.props.set("label",t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"formatter",{get:function(){return this.controller_.valueController.props.get("formatter")},set:function(t){this.controller_.valueController.props.set("formatter",t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this.controller_.valueController.value.rawValue},set:function(t){this.controller_.valueController.value.rawValue=t},enumerable:!1,configurable:!0}),n.prototype.on=function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this},n}(dt),cn={id:"text",accept:function(t){var e=yt,n=xt(t,{parse:e.required.function,value:e.required.raw,view:e.required.constant("text"),format:e.optional.function,label:e.optional.string});return n?{params:n}:null},controller:function(t){var e,n=new un(t.document,{parser:t.params.parse,props:d.fromObject({formatter:null!==(e=t.params.format)&&void 0!==e?e:function(t){return String(t)}}),value:c(t.params.value),viewProps:t.viewProps});return new D(t.document,{blade:t.blade,props:d.fromObject({label:t.params.label}),valueController:n})},api:function(t){return t instanceof D&&t.valueController instanceof un?new pn(t):null}};function dn(t){return"false"!==t&&!!t}function hn(t){return function(t){return String(t)}(t)}function vn(t,e){t.write(e)}var fn=f("ckb"),mn=function(){function t(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(fn()),e.viewProps.bindClassModifiers(this.element);var n=t.createElement("label");n.classList.add(fn("l")),this.element.appendChild(n);var r=t.createElement("input");r.classList.add(fn("i")),r.type="checkbox",n.appendChild(r),this.inputElement=r,e.viewProps.bindDisabled(this.inputElement);var i=t.createElement("div");i.classList.add(fn("w")),n.appendChild(i);var o=E(t,"check");i.appendChild(o),e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.update_()}return t.prototype.update_=function(){this.inputElement.checked=this.value.rawValue},t.prototype.onValueChange_=function(){this.update_()},t}(),bn=function(){function t(t,e){this.onInputChange_=this.onInputChange_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new mn(t,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}return t.prototype.onInputChange_=function(t){var e=t.currentTarget;this.value.rawValue=e.checked},t}();var gn={id:"input-bool",accept:function(t){return"boolean"==typeof t?t:null},binding:{reader:function(t){return dn},constraint:function(t){return e=t.params,n=[],(r=J(e))&&n.push(r),new K(n);var e,n,r},writer:function(t){return vn}},controller:function(t){var e,n=t.document,r=t.value,i=t.constraint;return i&&H(i,q)?new Bt(n,{props:d.fromObject({options:null!==(e=Z(i))&&void 0!==e?e:[]}),value:r,viewProps:t.viewProps}):new bn(n,{value:r,viewProps:t.viewProps})}},_n=f("pop"),wn=function(t,e){this.element=t.createElement("div"),this.element.classList.add(_n()),e.viewProps.bindClassModifiers(this.element),A(e.shows,I(this.element,_n(void 0,"v")))},yn=function(t,e){this.shows=c(!1),this.viewProps=e.viewProps,this.view=new wn(t,{shows:this.shows,viewProps:this.viewProps})};function xn(t){var e=t.primary,n=t.secondary,r=t.forward,i=t.backward,o=!1;function a(t){o||(o=!0,t(),o=!1)}e.emitter.on("change",(function(){a((function(){n.rawValue=r(e,n)}))})),n.emitter.on("change",(function(){a((function(){e.rawValue=i(e,n)})),a((function(){n.rawValue=r(e,n)}))})),a((function(){n.rawValue=r(e,n)}))}var Pn=f("col"),Cn=function(t,e){this.element=t.createElement("div"),this.element.classList.add(Pn()),A(e.expanded,I(this.element,Pn(void 0,"expanded")));var n=t.createElement("div");n.classList.add(Pn("h")),this.element.appendChild(n);var r=t.createElement("div");r.classList.add(Pn("s")),n.appendChild(r),this.swatchElement=r;var i=t.createElement("div");if(i.classList.add(Pn("t")),n.appendChild(i),this.textElement=i,"inline"===e.pickerLayout){var o=t.createElement("div");o.classList.add(Pn("p")),this.element.appendChild(o),this.pickerElement=o}else this.pickerElement=null},En=function(){function t(t){this.maxValue=t.max,this.minValue=t.min}return t.prototype.constrain=function(t){var e=t;return i(this.minValue)||(e=Math.max(e,this.minValue)),i(this.maxValue)||(e=Math.min(e,this.maxValue)),e},t}();function kn(t,e,n){var r,i,o,a,s,l,u,p,c,d=W(t,360),h=Q(e/100,0,1),v=Q(n/100,0,1),f=v*h,m=f*(1-Math.abs(d/60%2-1)),b=v-f;return d>=0&&d<60?(u=(r=[f,m,0])[0],p=r[1],c=r[2]):d>=60&&d<120?(u=(i=[m,f,0])[0],p=i[1],c=i[2]):d>=120&&d<180?(u=(o=[0,f,m])[0],p=o[1],c=o[2]):d>=180&&d<240?(u=(a=[0,m,f])[0],p=a[1],c=a[2]):d>=240&&d<300?(u=(s=[m,0,f])[0],p=s[1],c=s[2]):(u=(l=[f,0,m])[0],p=l[1],c=l[2]),[255*(u+b),255*(p+b),255*(c+b)]}function Mn(t){return[t[0],t[1],t[2]]}function Tn(t,e){return[t[0],t[1],t[2],e]}var Ln={hsl:{hsl:function(t,e,n){return[t,e,n]},hsv:function(t,e,n){var r=n+e*(100-Math.abs(2*n-100))/200;return[t,0!==r?e*(100-Math.abs(2*n-100))/r:0,n+e*(100-Math.abs(2*n-100))/200]},rgb:function(t,e,n){var r,i,o,a,s,l,u,p,c,d=(t%360+360)%360,h=Q(e/100,0,1),v=Q(n/100,0,1),f=(1-Math.abs(2*v-1))*h,m=f*(1-Math.abs(d/60%2-1)),b=v-f/2;return d>=0&&d<60?(u=(r=[f,m,0])[0],p=r[1],c=r[2]):d>=60&&d<120?(u=(i=[m,f,0])[0],p=i[1],c=i[2]):d>=120&&d<180?(u=(o=[0,f,m])[0],p=o[1],c=o[2]):d>=180&&d<240?(u=(a=[0,m,f])[0],p=a[1],c=a[2]):d>=240&&d<300?(u=(s=[m,0,f])[0],p=s[1],c=s[2]):(u=(l=[f,0,m])[0],p=l[1],c=l[2]),[255*(u+b),255*(p+b),255*(c+b)]}},hsv:{hsl:function(t,e,n){var r=100-Math.abs(n*(200-e)/100-100);return[t,0!==r?e*n/r:0,n*(200-e)/200]},hsv:function(t,e,n){return[t,e,n]},rgb:kn},rgb:{hsl:function(t,e,n){var r=Q(t/255,0,1),i=Q(e/255,0,1),o=Q(n/255,0,1),a=Math.max(r,i,o),s=Math.min(r,i,o),l=a-s,u=0,p=0,c=(s+a)/2;return 0!==l&&(p=l/(1-Math.abs(a+s-1)),u=(u=r===a?(i-o)/l:i===a?2+(o-r)/l:4+(r-i)/l)/6+(u<0?1:0)),[360*u,100*p,100*c]},hsv:function(t,e,n){var r=Q(t/255,0,1),i=Q(e/255,0,1),o=Q(n/255,0,1),a=Math.max(r,i,o),s=a-Math.min(r,i,o);return[0===s?0:a===r?((i-o)/s%6+6)%6*60:a===i?60*((o-r)/s+2):60*((r-i)/s+4),100*(0===a?0:s/a),100*a]},rgb:function(t,e,n){return[t,e,n]}}};var Sn={hsl:function(t){var e;return[W(t[0],360),Q(t[1],0,100),Q(t[2],0,100),Q(null!==(e=t[3])&&void 0!==e?e:1,0,1)]},hsv:function(t){var e;return[W(t[0],360),Q(t[1],0,100),Q(t[2],0,100),Q(null!==(e=t[3])&&void 0!==e?e:1,0,1)]},rgb:function(t){var e;return[Q(t[0],0,255),Q(t[1],0,255),Q(t[2],0,255),Q(null!==(e=t[3])&&void 0!==e?e:1,0,1)]}};function An(t,e){return"object"==typeof t&&!i(t)&&e in t&&"number"==typeof t[e]}var Vn=function(){function t(t,e){this.mode_=e,this.comps_=Sn[e](t)}return t.black=function(){return new t([0,0,0],"rgb")},t.fromObject=function(e){return new t("a"in e?[e.r,e.g,e.b,e.a]:[e.r,e.g,e.b],"rgb")},t.toRgbaObject=function(t){return t.toRgbaObject()},t.isRgbColorObject=function(t){return An(t,"r")&&An(t,"g")&&An(t,"b")},t.isRgbaColorObject=function(t){return this.isRgbColorObject(t)&&An(t,"a")},t.isColorObject=function(t){return this.isRgbColorObject(t)},t.equals=function(t,e){if(t.mode_!==e.mode_)return!1;for(var n=t.comps_,r=e.comps_,i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0},Object.defineProperty(t.prototype,"mode",{get:function(){return this.mode_},enumerable:!1,configurable:!0}),t.prototype.getComponents=function(t){return Tn((e=Mn(this.comps_),n=this.mode_,r=t||this.mode_,(i=Ln[n])[r].apply(i,e)),this.comps_[3]);var e,n,r,i},t.prototype.toRgbaObject=function(){var t=this.getComponents("rgb");return{r:t[0],g:t[1],b:t[2],a:t[3]}},t}(),Rn=f("colp"),jn=function(){function t(t,e){this.alphaViews_=null,this.element=t.createElement("div"),this.element.classList.add(Rn());var n=t.createElement("div");n.classList.add(Rn("hsv"));var r=t.createElement("div");r.classList.add(Rn("sv")),this.svPaletteView_=e.svPaletteView,r.appendChild(this.svPaletteView_.element),n.appendChild(r);var i=t.createElement("div");i.classList.add(Rn("h")),this.hPaletteView_=e.hPaletteView,i.appendChild(this.hPaletteView_.element),n.appendChild(i),this.element.appendChild(n);var o=t.createElement("div");if(o.classList.add(Rn("rgb")),this.textView_=e.textView,o.appendChild(this.textView_.element),this.element.appendChild(o),e.alphaViews){this.alphaViews_={palette:e.alphaViews.palette,text:e.alphaViews.text};var a=t.createElement("div");a.classList.add(Rn("a"));var s=t.createElement("div");s.classList.add(Rn("ap")),s.appendChild(this.alphaViews_.palette.element),a.appendChild(s);var l=t.createElement("div");l.classList.add(Rn("at")),l.appendChild(this.alphaViews_.text.element),a.appendChild(l),this.element.appendChild(a)}}return Object.defineProperty(t.prototype,"allFocusableElements",{get:function(){var t=r([this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement],this.textView_.textViews.map((function(t){return t.inputElement})));return this.alphaViews_&&t.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),t},enumerable:!1,configurable:!0}),t}();function Dn(t){return t?.1:1}var Un=Ve(0);function On(t){return Un(t)+"%"}function In(t,e){var n=t.match(/^(.+)%$/);return n?Math.min(.01*parseFloat(n[1])*e,e):Math.min(parseFloat(t),e)}var Fn={deg:function(t){return t},grad:function(t){return 360*t/400},rad:function(t){return 360*t/(2*Math.PI)},turn:function(t){return 360*t}};function Nn(t){var e=t.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!e)return parseFloat(t);var n=parseFloat(e[1]),r=e[2];return Fn[r](n)}var Bn={"func.rgb":function(t){var e=t.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;var n=[In(e[1],255),In(e[2],255),In(e[3],255)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:new Vn(n,"rgb")},"func.rgba":function(t){var e=t.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;var n=[In(e[1],255),In(e[2],255),In(e[3],255),In(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:new Vn(n,"rgb")},"func.hsl":function(t){var e=t.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;var n=[Nn(e[1]),In(e[2],100),In(e[3],100)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:new Vn(n,"hsl")},"func.hsla":function(t){var e=t.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;var n=[Nn(e[1]),In(e[2],100),In(e[3],100),In(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:new Vn(n,"hsl")},"hex.rgb":function(t){var e=t.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return new Vn([parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)],"rgb");var n=t.match(/^#([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?new Vn([parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)],"rgb"):null},"hex.rgba":function(t){var e=t.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return new Vn([parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),X(parseInt(e[4]+e[4],16),0,255,0,1)],"rgb");var n=t.match(/^#?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?new Vn([parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),X(parseInt(n[4],16),0,255,0,1)],"rgb"):null}};function zn(t){return Object.keys(Bn).reduce((function(e,n){return e||((0,Bn[n])(t)?n:null)}),null)}var Kn=function(t){var e=zn(t);return e?Bn[e](t):null};function Hn(t){return"func.hsla"===t||"func.rgba"===t||"hex.rgba"===t}function qn(t){if("string"==typeof t){var e=Kn(t);if(e)return e}return Vn.black()}function Gn(t){var e=Q(Math.floor(t),0,255).toString(16);return 1===e.length?"0"+e:e}function Xn(t){return"#"+Mn(t.getComponents("rgb")).map(Gn).join("")}function Yn(t){var e=t.getComponents("rgb");return"#"+[e[0],e[1],e[2],255*e[3]].map(Gn).join("")}function Qn(t){var e=Ve(0);return"rgb("+Mn(t.getComponents("rgb")).map((function(t){return e(t)})).join(", ")+")"}function Wn(t){var e=Ve(2),n=Ve(0);return"rgba("+t.getComponents("rgb").map((function(t,r){return(3===r?e:n)(t)})).join(", ")+")"}var $n={"func.hsl":function(t){var e=[Ve(0),On,On];return"hsl("+Mn(t.getComponents("hsl")).map((function(t,n){return e[n](t)})).join(", ")+")"},"func.hsla":function(t){var e=[Ve(0),On,On,Ve(2)];return"hsla("+t.getComponents("hsl").map((function(t,n){return e[n](t)})).join(", ")+")"},"func.rgb":Qn,"func.rgba":Wn,"hex.rgb":Xn,"hex.rgba":Yn};function Jn(t){return $n[t]}var Zn=f("apl"),tr=function(){function t(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Zn()),e.viewProps.bindTabIndex(this.element);var n=t.createElement("div");n.classList.add(Zn("b")),this.element.appendChild(n);var r=t.createElement("div");r.classList.add(Zn("c")),n.appendChild(r),this.colorElem_=r;var i=t.createElement("div");i.classList.add(Zn("m")),this.element.appendChild(i),this.markerElem_=i;var o=t.createElement("div");o.classList.add(Zn("p")),this.markerElem_.appendChild(o),this.previewElem_=o,this.update_()}return t.prototype.update_=function(){var t=this.value.rawValue,e=t.getComponents("rgb"),n=new Vn([e[0],e[1],e[2],0],"rgb"),r=new Vn([e[0],e[1],e[2],255],"rgb"),i=["to right",Wn(n),Wn(r)];this.colorElem_.style.background="linear-gradient("+i.join(",")+")",this.previewElem_.style.backgroundColor=Wn(t);var o=X(e[3],0,1,0,100);this.markerElem_.style.left=o+"%"},t.prototype.onValueChange_=function(){this.update_()},t}(),er=function(){function t(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new tr(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Ne(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_)}return t.prototype.handlePointerEvent_=function(t){if(t.point){var e=t.point.x/t.bounds.width,n=this.value.rawValue.getComponents("hsv"),r=n[0],i=n[1],o=n[2];this.value.rawValue=new Vn([r,i,o,e],"hsv")}},t.prototype.onPointerDown_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerMove_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerUp_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onKeyDown_=function(t){var e=De(Dn(!0),Oe(t)),n=this.value.rawValue.getComponents("hsv"),r=n[0],i=n[1],o=n[2],a=n[3];this.value.rawValue=new Vn([r,i,o,a+e],"hsv")},t}(),nr=f("coltxt");var rr=function(){function t(t,e){var n=this;this.element=t.createElement("div"),this.element.classList.add(nr());var r=t.createElement("div");r.classList.add(nr("m")),this.modeElem_=function(t){var e=t.createElement("select");return e.appendChild([{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}].reduce((function(e,n){var r=t.createElement("option");return r.textContent=n.text,r.value=n.value,e.appendChild(r),e}),t.createDocumentFragment())),e}(t),this.modeElem_.classList.add(nr("ms")),r.appendChild(this.modeSelectElement);var i=t.createElement("div");i.classList.add(nr("mm")),i.appendChild(E(t,"dropdown")),r.appendChild(i),this.element.appendChild(r);var o=t.createElement("div");o.classList.add(nr("w")),this.element.appendChild(o),this.textsElem_=o,this.textViews_=e.textViews,this.applyTextViews_(),A(e.colorMode,(function(t){n.modeElem_.value=t}))}return Object.defineProperty(t.prototype,"modeSelectElement",{get:function(){return this.modeElem_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textViews",{get:function(){return this.textViews_},set:function(t){this.textViews_=t,this.applyTextViews_()},enumerable:!1,configurable:!0}),t.prototype.applyTextViews_=function(){var t=this;T(this.textsElem_);var e=this.element.ownerDocument;this.textViews_.forEach((function(n){var r=e.createElement("div");r.classList.add(nr("c")),r.appendChild(n.element),t.textsElem_.appendChild(r)}))},t}(),ir=Ve(0),or={rgb:function(){return new En({min:0,max:255})},hsl:function(t){return new En(0===t?{min:0,max:360}:{min:0,max:100})},hsv:function(t){return new En(0===t?{min:0,max:360}:{min:0,max:100})}};function ar(t,e,n){return new Ke(t,{arrayPosition:0===n?"fst":2===n?"lst":"mid",baseStep:Dn(!1),parser:e.parser,props:d.fromObject({draggingScale:1,formatter:ir}),value:c(0,{constraint:or[e.colorMode](n)}),viewProps:e.viewProps})}var sr=function(){function t(t,e){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.parser_=e.parser,this.value=e.value,this.viewProps=e.viewProps,this.colorMode=c(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(t),this.view=new rr(t,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}return t.prototype.createComponentControllers_=function(t){var e=this,n={colorMode:this.colorMode.rawValue,parser:this.parser_,viewProps:this.viewProps},r=[ar(t,n,0),ar(t,n,1),ar(t,n,2)];return r.forEach((function(t,n){xn({primary:e.value,secondary:t.value,forward:function(t){return t.rawValue.getComponents(e.colorMode.rawValue)[n]},backward:function(t,r){var i=e.colorMode.rawValue,o=t.rawValue.getComponents(i);return o[n]=r.rawValue,new Vn(Tn(Mn(o),o[3]),i)}})})),r},t.prototype.onModeSelectChange_=function(t){var e=t.currentTarget;this.colorMode.rawValue=e.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]},t}(),lr=f("hpl"),ur=function(){function t(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(lr()),e.viewProps.bindTabIndex(this.element);var n=t.createElement("div");n.classList.add(lr("c")),this.element.appendChild(n);var r=t.createElement("div");r.classList.add(lr("m")),this.element.appendChild(r),this.markerElem_=r,this.update_()}return t.prototype.update_=function(){var t=this.value.rawValue.getComponents("hsv")[0];this.markerElem_.style.backgroundColor=Qn(new Vn([t,100,100],"hsv"));var e=X(t,0,360,0,100);this.markerElem_.style.left=e+"%"},t.prototype.onValueChange_=function(){this.update_()},t}(),pr=function(){function t(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new ur(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Ne(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_)}return t.prototype.handlePointerEvent_=function(t){if(t.point){var e=X(t.point.x,0,t.bounds.width,0,360),n=this.value.rawValue.getComponents("hsv"),r=n[1],i=n[2],o=n[3];this.value.rawValue=new Vn([e,r,i,o],"hsv")}},t.prototype.onPointerDown_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerMove_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerUp_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onKeyDown_=function(t){var e=De(Dn(!1),Oe(t)),n=this.value.rawValue.getComponents("hsv"),r=n[0],i=n[1],o=n[2],a=n[3];this.value.rawValue=new Vn([r+e,i,o,a],"hsv")},t}(),cr=f("svp"),dr=function(){function t(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(cr()),e.viewProps.bindTabIndex(this.element);var n=t.createElement("canvas");n.height=64,n.width=64,n.classList.add(cr("c")),this.element.appendChild(n),this.canvasElement=n;var r=t.createElement("div");r.classList.add(cr("m")),this.element.appendChild(r),this.markerElem_=r,this.update_()}return t.prototype.update_=function(){var t=P(this.canvasElement);if(t){for(var e=this.value.rawValue.getComponents("hsv"),n=this.canvasElement.width,r=this.canvasElement.height,i=t.getImageData(0,0,n,r),o=i.data,a=0;a<r;a++)for(var s=0;s<n;s++){var l=X(s,0,n,0,100),u=X(a,0,r,100,0),p=kn(e[0],l,u),c=4*(a*n+s);o[c]=p[0],o[c+1]=p[1],o[c+2]=p[2],o[c+3]=255}t.putImageData(i,0,0);var d=X(e[1],0,100,0,100);this.markerElem_.style.left=d+"%";var h=X(e[2],0,100,100,0);this.markerElem_.style.top=h+"%"}},t.prototype.onValueChange_=function(){this.update_()},t}(),hr=function(){function t(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new dr(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Ne(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_)}return t.prototype.handlePointerEvent_=function(t){if(t.point){var e=X(t.point.x,0,t.bounds.width,0,100),n=X(t.point.y,0,t.bounds.height,100,0),r=this.value.rawValue.getComponents("hsv"),i=r[0],o=r[3];this.value.rawValue=new Vn([i,e,n,o],"hsv")}},t.prototype.onPointerDown_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerMove_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerUp_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onKeyDown_=function(t){Ie(t.key)&&t.preventDefault();var e=this.value.rawValue.getComponents("hsv"),n=e[0],r=e[1],i=e[2],o=e[3],a=Dn(!1);this.value.rawValue=new Vn([n,r+De(a,Oe(t)),i+De(a,Ue(t)),o],"hsv")},t}(),vr=function(){function t(t,e){this.value=e.value,this.viewProps=e.viewProps,this.hPaletteC_=new pr(t,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new hr(t,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=e.supportsAlpha?{palette:new er(t,{value:this.value,viewProps:this.viewProps}),text:new Ke(t,{parser:Le,baseStep:.1,props:d.fromObject({draggingScale:.01,formatter:Ve(2)}),value:c(0,{constraint:new En({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&xn({primary:this.value,secondary:this.alphaIcs_.text.value,forward:function(t){return t.rawValue.getComponents()[3]},backward:function(t,e){var n=t.rawValue.getComponents();return n[3]=e.rawValue,new Vn(n,t.rawValue.mode)}}),this.textC_=new sr(t,{parser:Le,value:this.value,viewProps:this.viewProps}),this.view=new jn(t,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:e.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view})}return Object.defineProperty(t.prototype,"textController",{get:function(){return this.textC_},enumerable:!1,configurable:!0}),t}(),fr=f("colsw"),mr=function(){function t(t,e){this.onValueChange_=this.onValueChange_.bind(this),e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.element=t.createElement("div"),this.element.classList.add(fr()),e.viewProps.bindClassModifiers(this.element);var n=t.createElement("div");n.classList.add(fr("sw")),this.element.appendChild(n),this.swatchElem_=n;var r=t.createElement("button");r.classList.add(fr("b")),e.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r,this.update_()}return t.prototype.update_=function(){var t=this.value.rawValue;this.swatchElem_.style.backgroundColor=Yn(t)},t.prototype.onValueChange_=function(){this.update_()},t}(),br=function(t,e){this.value=e.value,this.viewProps=e.viewProps,this.view=new mr(t,{value:this.value,viewProps:this.viewProps})},gr=function(){function t(t,e){var n=this;this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.foldable_=$t(e.expanded),this.swatchC_=new br(t,{value:this.value,viewProps:this.viewProps});var r=this.swatchC_.view.buttonElement;r.addEventListener("blur",this.onButtonBlur_),r.addEventListener("click",this.onButtonClick_),this.textC_=new un(t,{parser:e.parser,props:d.fromObject({formatter:e.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new Cn(t,{expanded:this.foldable_.value("expanded"),pickerLayout:e.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_="popup"===e.pickerLayout?new yn(t,{viewProps:this.viewProps}):null;var i=new vr(t,{supportsAlpha:e.supportsAlpha,value:this.value,viewProps:this.viewProps});i.view.allFocusableElements.forEach((function(t){t.addEventListener("blur",n.onPopupChildBlur_),t.addEventListener("keydown",n.onPopupChildKeydown_)})),this.pickerC_=i,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(i.view.element),xn({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:function(t){return t.rawValue},backward:function(t,e){return e.rawValue}})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),te(this.foldable_,this.view.pickerElement))}return Object.defineProperty(t.prototype,"textController",{get:function(){return this.textC_},enumerable:!1,configurable:!0}),t.prototype.onButtonBlur_=function(t){if(this.popC_){var e=this.view.element,n=t.relatedTarget;n&&e.contains(n)||(this.popC_.shows.rawValue=!1)}},t.prototype.onButtonClick_=function(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()},t.prototype.onPopupChildBlur_=function(t){if(this.popC_){var e=this.popC_.view.element,n=L(t);n&&e.contains(n)||n&&n===this.swatchC_.view.buttonElement&&!y(e.ownerDocument)||(this.popC_.shows.rawValue=!1)}},t.prototype.onPopupChildKeydown_=function(t){this.popC_?"Escape"===t.key&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&"Escape"===t.key&&this.swatchC_.view.buttonElement.focus()},t}();function _r(t){return Vn.isColorObject(t)?Vn.fromObject(t):Vn.black()}function wr(t){return Mn(t.getComponents("rgb")).reduce((function(t,e){return t<<8|255&Math.floor(e)}),0)}function yr(t){return t.getComponents("rgb").reduce((function(t,e,n){return t<<8|255&Math.floor(3===n?255*e:e)}),0)>>>0}function xr(t){return"number"!=typeof t?Vn.black():new Vn([(e=t)>>16&255,e>>8&255,255&e],"rgb");var e}function Pr(t){return"number"!=typeof t?Vn.black():new Vn([(e=t)>>24&255,e>>16&255,e>>8&255,X(255&e,0,255,0,1)],"rgb");var e}function Cr(t,e){var n=e.toRgbaObject();t.writeProperty("r",n.r),t.writeProperty("g",n.g),t.writeProperty("b",n.b),t.writeProperty("a",n.a)}function Er(t,e){var n=e.toRgbaObject();t.writeProperty("r",n.r),t.writeProperty("g",n.g),t.writeProperty("b",n.b)}function kr(t){return"input"in t&&"color.rgba"===t.input}var Mr={id:"input-color-number",accept:function(t,e){return"number"!=typeof t?null:"input"in e?"color"!==e.input&&"color.rgb"!==e.input&&"color.rgba"!==e.input?null:t:null},binding:{reader:function(t){return kr(t.params)?Pr:xr},equals:Vn.equals,writer:function(t){return e=kr(t.params),n=e?yr:wr,function(t,e){vn(t,n(e))};var e,n}},controller:function(t){var e=kr(t.params),n="expanded"in t.params?t.params.expanded:void 0,r="picker"in t.params?t.params.picker:void 0,i=e?Yn:Xn;return new gr(t.document,{expanded:null!=n&&n,formatter:i,parser:Kn,pickerLayout:null!=r?r:"popup",supportsAlpha:e,value:t.value,viewProps:t.viewProps})}};var Tr={id:"input-color-object",accept:function(t,e){return Vn.isColorObject(t)?t:null},binding:{reader:function(t){return _r},equals:Vn.equals,writer:function(t){return e=t.initialValue,Vn.isRgbaColorObject(e)?Cr:Er;var e}},controller:function(t){var e=Vn.isRgbaColorObject(t.initialValue),n="expanded"in t.params?t.params.expanded:void 0,r="picker"in t.params?t.params.picker:void 0,i=e?Yn:Xn;return new gr(t.document,{expanded:null!=n&&n,formatter:i,parser:Kn,pickerLayout:null!=r?r:"popup",supportsAlpha:e,value:t.value,viewProps:t.viewProps})}},Lr={id:"input-color-string",accept:function(t,e){return"string"!=typeof t||"input"in e&&"string"===e.input?null:zn(t)?t:null},binding:{reader:function(t){return qn},equals:Vn.equals,writer:function(t){var e=zn(t.initialValue);if(!e)throw s.shouldNeverHappen();return function(t){var e=Jn(t);return function(t,n){vn(t,e(n))}}(e)}},controller:function(t){var e=zn(t.initialValue);if(!e)throw s.shouldNeverHappen();var n=Jn(e),r="expanded"in t.params?t.params.expanded:void 0,i="picker"in t.params?t.params.picker:void 0;return new gr(t.document,{expanded:null!=r&&r,formatter:n,parser:Kn,pickerLayout:null!=i?i:"popup",supportsAlpha:Hn(e),value:t.value,viewProps:t.viewProps})}};function Sr(t){var e=[],n=function(t){return"step"in t&&!i(t.step)?new G(t.step):null}(t);n&&e.push(n);var r=function(t){return"max"in t&&!i(t.max)||"min"in t&&!i(t.min)?new En({max:t.max,min:t.min}):null}(t);r&&e.push(r);var o=J(t);return o&&e.push(o),new K(e)}function Ar(t){var e=function(t){var e=t?H(t,En):null;return e?[e.minValue,e.maxValue]:[void 0,void 0]}(t),n=e[0],r=e[1];return[null!=n?n:0,null!=r?r:100]}var Vr={id:"input-number",accept:function(t){return"number"==typeof t?t:null},binding:{reader:function(t){return Se},constraint:function(t){return Sr(t.params)},writer:function(t){return vn}},controller:function(t){var e,n,r=t.value,i=t.constraint;if(i&&H(i,q))return new Bt(t.document,{props:d.fromObject({options:null!==(e=Z(i))&&void 0!==e?e:[]}),value:r,viewProps:t.viewProps});var o=null!==(n="format"in t.params?t.params.format:void 0)&&void 0!==n?n:Ve(tt(i,r.rawValue));if(i&&H(i,En)){var a=Ar(i),s=a[0],l=a[1];return new Xe(t.document,{baseStep:et(i),parser:Le,sliderProps:d.fromObject({maxValue:l,minValue:s}),textProps:d.fromObject({draggingScale:nt(i,r.rawValue),formatter:o}),value:r,viewProps:t.viewProps})}return new Ke(t.document,{baseStep:et(i),parser:Le,props:d.fromObject({draggingScale:nt(i,r.rawValue),formatter:o}),value:r,viewProps:t.viewProps})}},Rr=function(){function t(t){this.components=t.components,this.asm_=t.assembly}return t.prototype.constrain=function(t){var e=this,n=this.asm_.toComponents(t).map((function(t,n){var r,i;return null!==(i=null===(r=e.components[n])||void 0===r?void 0:r.constrain(t))&&void 0!==i?i:t}));return this.asm_.fromComponents(n)},t}(),jr=f("pndtxt"),Dr=function(t,e){var n=this;this.textViews=e.textViews,this.element=t.createElement("div"),this.element.classList.add(jr()),this.textViews.forEach((function(e){var r=t.createElement("div");r.classList.add(jr("a")),r.appendChild(e.element),n.element.appendChild(r)}))};var Ur=function(t,e){var n=this;this.value=e.value,this.viewProps=e.viewProps,this.acs_=e.axes.map((function(n,r){return function(t,e,n){return new Ke(t,{arrayPosition:0===n?"fst":n===e.axes.length-1?"lst":"mid",baseStep:e.axes[n].baseStep,parser:e.parser,props:e.axes[n].textProps,value:c(0,{constraint:e.axes[n].constraint}),viewProps:e.viewProps})}(t,e,r)})),this.acs_.forEach((function(t,r){xn({primary:n.value,secondary:t.value,forward:function(t){return e.assembly.toComponents(t.rawValue)[r]},backward:function(t,n){var i=e.assembly.toComponents(t.rawValue);return i[r]=n.rawValue,e.assembly.fromComponents(i)}})})),this.view=new Dr(t,{textViews:this.acs_.map((function(t){return t.view}))})},Or=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.getComponents=function(){return[this.x,this.y]},t.isObject=function(t){if(i(t))return!1;var e=t.x,n=t.y;return"number"==typeof e&&"number"==typeof n},t.equals=function(t,e){return t.x===e.x&&t.y===e.y},t.prototype.toObject=function(){return{x:this.x,y:this.y}},t}(),Ir={toComponents:function(t){return t.getComponents()},fromComponents:function(t){return new(Or.bind.apply(Or,r([void 0],t)))}},Fr=f("p2d"),Nr=function(t,e){this.element=t.createElement("div"),this.element.classList.add(Fr()),e.viewProps.bindClassModifiers(this.element),A(e.expanded,I(this.element,Fr(void 0,"expanded")));var n=t.createElement("div");n.classList.add(Fr("h")),this.element.appendChild(n);var r=t.createElement("button");r.classList.add(Fr("b")),r.appendChild(E(t,"p2dpad")),e.viewProps.bindDisabled(r),n.appendChild(r),this.buttonElement=r;var i=t.createElement("div");if(i.classList.add(Fr("t")),n.appendChild(i),this.textElement=i,"inline"===e.pickerLayout){var o=t.createElement("div");o.classList.add(Fr("p")),this.element.appendChild(o),this.pickerElement=o}else this.pickerElement=null},Br=f("p2dp"),zr=function(){function t(t,e){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=e.invertsY,this.maxValue_=e.maxValue,this.element=t.createElement("div"),this.element.classList.add(Br()),"popup"===e.layout&&this.element.classList.add(Br(void 0,"p"));var n=t.createElement("div");n.classList.add(Br("p")),e.viewProps.bindTabIndex(n),this.element.appendChild(n),this.padElement=n;var r=t.createElementNS(_,"svg");r.classList.add(Br("g")),this.padElement.appendChild(r),this.svgElem_=r;var i=t.createElementNS(_,"line");i.classList.add(Br("ax")),i.setAttributeNS(null,"x1","0"),i.setAttributeNS(null,"y1","50%"),i.setAttributeNS(null,"x2","100%"),i.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(i);var o=t.createElementNS(_,"line");o.classList.add(Br("ax")),o.setAttributeNS(null,"x1","50%"),o.setAttributeNS(null,"y1","0"),o.setAttributeNS(null,"x2","50%"),o.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(o);var a=t.createElementNS(_,"line");a.classList.add(Br("l")),a.setAttributeNS(null,"x1","50%"),a.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(a),this.lineElem_=a;var s=t.createElement("div");s.classList.add(Br("m")),this.padElement.appendChild(s),this.markerElem_=s,e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.update_()}return Object.defineProperty(t.prototype,"allFocusableElements",{get:function(){return[this.padElement]},enumerable:!1,configurable:!0}),t.prototype.update_=function(){var t=this.value.rawValue.getComponents(),e=t[0],n=t[1],r=this.maxValue_,i=X(e,-r,+r,0,100),o=X(n,-r,+r,0,100),a=this.invertsY_?100-o:o;this.lineElem_.setAttributeNS(null,"x2",i+"%"),this.lineElem_.setAttributeNS(null,"y2",a+"%"),this.markerElem_.style.left=i+"%",this.markerElem_.style.top=a+"%"},t.prototype.onValueChange_=function(){this.update_()},t.prototype.onFoldableChange_=function(){this.update_()},t}(),Kr=function(){function t(t,e){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.baseSteps_=e.baseSteps,this.maxValue_=e.maxValue,this.invertsY_=e.invertsY,this.view=new zr(t,{invertsY:this.invertsY_,layout:e.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Ne(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_)}return t.prototype.handlePointerEvent_=function(t){if(t.point){var e=this.maxValue_,n=X(t.point.x,0,t.bounds.width,-e,+e),r=X(this.invertsY_?t.bounds.height-t.point.y:t.point.y,0,t.bounds.height,-e,+e);this.value.rawValue=new Or(n,r)}},t.prototype.onPointerDown_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerMove_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPointerUp_=function(t){this.handlePointerEvent_(t.data)},t.prototype.onPadKeyDown_=function(t){Ie(t.key)&&t.preventDefault(),this.value.rawValue=new Or(this.value.rawValue.x+De(this.baseSteps_[0],Oe(t)),this.value.rawValue.y+De(this.baseSteps_[1],Ue(t))*(this.invertsY_?1:-1))},t}(),Hr=function(){function t(t,e){var n,r,i=this;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.foldable_=$t(e.expanded),this.popC_="popup"===e.pickerLayout?new yn(t,{viewProps:this.viewProps}):null;var o=new Kr(t,{baseSteps:[e.axes[0].baseStep,e.axes[1].baseStep],invertsY:e.invertsY,layout:e.pickerLayout,maxValue:e.maxValue,value:this.value,viewProps:this.viewProps});o.view.allFocusableElements.forEach((function(t){t.addEventListener("blur",i.onPopupChildBlur_),t.addEventListener("keydown",i.onPopupChildKeydown_)})),this.pickerC_=o,this.textC_=new Ur(t,{assembly:Ir,axes:e.axes,parser:e.parser,value:this.value,viewProps:this.viewProps}),this.view=new Nr(t,{expanded:this.foldable_.value("expanded"),pickerLayout:e.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),null===(n=this.view.buttonElement)||void 0===n||n.addEventListener("blur",this.onPadButtonBlur_),null===(r=this.view.buttonElement)||void 0===r||r.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),xn({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:function(t){return t.rawValue},backward:function(t,e){return e.rawValue}})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),te(this.foldable_,this.view.pickerElement))}return t.prototype.onPadButtonBlur_=function(t){if(this.popC_){var e=this.view.element,n=t.relatedTarget;n&&e.contains(n)||(this.popC_.shows.rawValue=!1)}},t.prototype.onPadButtonClick_=function(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()},t.prototype.onPopupChildBlur_=function(t){if(this.popC_){var e=this.popC_.view.element,n=L(t);n&&e.contains(n)||n&&n===this.view.buttonElement&&!y(e.ownerDocument)||(this.popC_.shows.rawValue=!1)}},t.prototype.onPopupChildKeydown_=function(t){this.popC_?"Escape"===t.key&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&"Escape"===t.key&&this.view.buttonElement.focus()},t}();function qr(t){return Or.isObject(t)?new Or(t.x,t.y):new Or}function Gr(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y)}function Xr(t){if(t){var e=[];return i(t.step)||e.push(new G(t.step)),i(t.max)&&i(t.min)||e.push(new En({max:t.max,min:t.min})),new K(e)}}function Yr(t,e){var n=t&&H(t,En);if(n)return Math.max(Math.abs(n.minValue||0),Math.abs(n.maxValue||0));var r=et(t);return Math.max(10*Math.abs(r),10*Math.abs(e))}function Qr(t,e){return{baseStep:et(e),constraint:e,textProps:d.fromObject({draggingScale:nt(e,t),formatter:Ve(tt(e,t))})}}function Wr(t){if(!("y"in t))return!1;var e=t.y;return!!e&&"inverted"in e&&!!e.inverted}var $r={id:"input-point2d",accept:function(t,e){return Or.isObject(t)?t:null},binding:{reader:function(t){return qr},constraint:function(t){return e=t.params,new Rr({assembly:Ir,components:[Xr("x"in e?e.x:void 0),Xr("y"in e?e.y:void 0)]});var e},equals:Or.equals,writer:function(t){return Gr}},controller:function(t){var e=t.document,n=t.value,r=t.constraint;if(!(r instanceof Rr))throw s.shouldNeverHappen();var i,o,a,l,u,p,c="expanded"in t.params?t.params.expanded:void 0,d="picker"in t.params?t.params.picker:void 0;return new Hr(e,{axes:[Qr(n.rawValue.x,r.components[0]),Qr(n.rawValue.y,r.components[1])],expanded:null!=c&&c,invertsY:Wr(t.params),maxValue:(i=n.rawValue,o=r,a=o instanceof Rr?o.components[0]:void 0,l=o instanceof Rr?o.components[1]:void 0,u=Yr(a,i.x),p=Yr(l,i.y),Math.max(u,p)),parser:Le,pickerLayout:null!=d?d:"popup",value:n,viewProps:t.viewProps})}},Jr=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=t,this.y=e,this.z=n}return t.prototype.getComponents=function(){return[this.x,this.y,this.z]},t.isObject=function(t){if(i(t))return!1;var e=t.x,n=t.y,r=t.z;return"number"==typeof e&&"number"==typeof n&&"number"==typeof r},t.equals=function(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z},t.prototype.toObject=function(){return{x:this.x,y:this.y,z:this.z}},t}(),Zr={toComponents:function(t){return t.getComponents()},fromComponents:function(t){return new(Jr.bind.apply(Jr,r([void 0],t)))}};function ti(t){return Jr.isObject(t)?new Jr(t.x,t.y,t.z):new Jr}function ei(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z)}function ni(t){if(t){var e=[];return i(t.step)||e.push(new G(t.step)),i(t.max)&&i(t.min)||e.push(new En({max:t.max,min:t.min})),new K(e)}}function ri(t,e){return{baseStep:et(e),constraint:e,textProps:d.fromObject({draggingScale:nt(e,t),formatter:Ve(tt(e,t))})}}var ii={id:"input-point3d",accept:function(t,e){return Jr.isObject(t)?t:null},binding:{reader:function(t){return ti},constraint:function(t){return e=t.params,new Rr({assembly:Zr,components:[ni("x"in e?e.x:void 0),ni("y"in e?e.y:void 0),ni("z"in e?e.z:void 0)]});var e},equals:Jr.equals,writer:function(t){return ei}},controller:function(t){var e=t.value,n=t.constraint;if(!(n instanceof Rr))throw s.shouldNeverHappen();return new Ur(t.document,{assembly:Zr,axes:[ri(e.rawValue.x,n.components[0]),ri(e.rawValue.y,n.components[1]),ri(e.rawValue.z,n.components[2])],parser:Le,value:e,viewProps:t.viewProps})}},oi=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=t,this.y=e,this.z=n,this.w=r}return t.prototype.getComponents=function(){return[this.x,this.y,this.z,this.w]},t.isObject=function(t){if(i(t))return!1;var e=t.x,n=t.y,r=t.z,o=t.w;return"number"==typeof e&&"number"==typeof n&&"number"==typeof r&&"number"==typeof o},t.equals=function(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z&&t.w===e.w},t.prototype.toObject=function(){return{x:this.x,y:this.y,z:this.z,w:this.w}},t}(),ai={toComponents:function(t){return t.getComponents()},fromComponents:function(t){return new(oi.bind.apply(oi,r([void 0],t)))}};function si(t){return oi.isObject(t)?new oi(t.x,t.y,t.z,t.w):new oi}function li(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z),t.writeProperty("w",e.w)}function ui(t){if(t){var e=[];return i(t.step)||e.push(new G(t.step)),i(t.max)&&i(t.min)||e.push(new En({max:t.max,min:t.min})),new K(e)}}var pi={id:"input-point4d",accept:function(t,e){return oi.isObject(t)?t:null},binding:{reader:function(t){return si},constraint:function(t){return e=t.params,new Rr({assembly:ai,components:[ui("x"in e?e.x:void 0),ui("y"in e?e.y:void 0),ui("z"in e?e.z:void 0),ui("w"in e?e.w:void 0)]});var e},equals:oi.equals,writer:function(t){return li}},controller:function(t){var e=t.value,n=t.constraint;if(!(n instanceof Rr))throw s.shouldNeverHappen();return new Ur(t.document,{assembly:ai,axes:e.rawValue.getComponents().map((function(t,e){return r=t,{baseStep:et(i=n.components[e]),constraint:i,textProps:d.fromObject({draggingScale:nt(i,r),formatter:Ve(tt(i,r))})};var r,i})),parser:Le,value:e,viewProps:t.viewProps})}};function ci(t){return String(t)}function di(t){return t}var hi={id:"input-string",accept:function(t,e){return"string"==typeof t?t:null},binding:{reader:function(t){return ci},constraint:function(t){return e=t.params,n=[],(r=J(e))&&n.push(r),new K(n);var e,n,r},writer:function(t){return vn}},controller:function(t){var e,n=t.document,r=t.value,i=t.constraint;return i&&H(i,q)?new Bt(n,{props:d.fromObject({options:null!==(e=Z(i))&&void 0!==e?e:[]}),value:r,viewProps:t.viewProps}):new un(n,{parser:function(t){return t},props:d.fromObject({formatter:di}),value:r,viewProps:t.viewProps})}},vi=function(){function t(t){var e=t.split("-"),n=e[0],r=e[1],i=n.split(".");this.major=parseInt(i[0],10),this.minor=parseInt(i[1],10),this.patch=parseInt(i[2],10),this.prerelease=null!=r?r:null}return t.prototype.toString=function(){var t=[this.major,this.minor,this.patch].join(".");return null!==this.prerelease?[t,this.prerelease].join("-"):t},t}(),fi=f("mll"),mi=function(){function t(t,e){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=e.formatter,this.element=t.createElement("div"),this.element.classList.add(fi()),e.viewProps.bindClassModifiers(this.element);var n=t.createElement("textarea");n.classList.add(fi("i")),n.style.height="calc(var(--bld-h) * "+e.lineCount+")",n.readOnly=!0,e.viewProps.bindDisabled(n),this.element.appendChild(n),this.textareaElem_=n,e.value.emitter.on("change",this.onValueUpdate_),this.value=e.value,this.update_()}return t.prototype.update_=function(){var t=this,e=this.textareaElem_,n=e.scrollTop===e.scrollHeight-e.clientHeight,r=[];this.value.rawValue.forEach((function(e){void 0!==e&&r.push(t.formatter_(e))})),e.textContent=r.join("\n"),n&&(e.scrollTop=e.scrollHeight)},t.prototype.onValueUpdate_=function(){this.update_()},t}(),bi=function(t,e){this.value=e.value,this.viewProps=e.viewProps,this.view=new mi(t,{formatter:e.formatter,lineCount:e.lineCount,value:this.value,viewProps:this.viewProps})},gi=f("sgl"),_i=function(){function t(t,e){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=e.formatter,this.element=t.createElement("div"),this.element.classList.add(gi()),e.viewProps.bindClassModifiers(this.element);var n=t.createElement("input");n.classList.add(gi("i")),n.readOnly=!0,n.type="text",e.viewProps.bindDisabled(n),this.element.appendChild(n),this.inputElem_=n,e.value.emitter.on("change",this.onValueUpdate_),this.value=e.value,this.update_()}return t.prototype.update_=function(){var t=this.value.rawValue,e=t[t.length-1];this.inputElem_.value=void 0!==e?this.formatter_(e):""},t.prototype.onValueUpdate_=function(){this.update_()},t}(),wi=function(t,e){this.value=e.value,this.viewProps=e.viewProps,this.view=new _i(t,{formatter:e.formatter,value:this.value,viewProps:this.viewProps})},yi={id:"monitor-bool",accept:function(t,e){return"boolean"==typeof t?t:null},binding:{reader:function(t){return dn}},controller:function(t){var e;return 1===t.value.rawValue.length?new wi(t.document,{formatter:hn,value:t.value,viewProps:t.viewProps}):new bi(t.document,{formatter:hn,lineCount:null!==(e=t.params.lineCount)&&void 0!==e?e:pt.defaultLineCount,value:t.value,viewProps:t.viewProps})}},xi=function(){function t(){this.emitter=new l,this.index_=-1}return Object.defineProperty(t.prototype,"index",{get:function(){return this.index_},set:function(t){this.index_!==t&&(this.index_=t,this.emitter.emit("change",{index:t,sender:this}))},enumerable:!1,configurable:!0}),t}(),Pi=f("grl"),Ci=function(){function t(t,e){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Pi()),e.viewProps.bindClassModifiers(this.element),this.formatter_=e.formatter,this.minValue_=e.minValue,this.maxValue_=e.maxValue,this.cursor_=e.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);var n=t.createElementNS(_,"svg");n.classList.add(Pi("g")),n.style.height="calc(var(--bld-h) * "+e.lineCount+")",this.element.appendChild(n),this.svgElem_=n;var r=t.createElementNS(_,"polyline");this.svgElem_.appendChild(r),this.lineElem_=r;var i=t.createElement("div");i.classList.add(Pi("t"),f("tt")()),this.element.appendChild(i),this.tooltipElem_=i,e.value.emitter.on("change",this.onValueUpdate_),this.value=e.value,this.update_()}return Object.defineProperty(t.prototype,"graphElement",{get:function(){return this.svgElem_},enumerable:!1,configurable:!0}),t.prototype.update_=function(){var t=this.svgElem_.getBoundingClientRect(),e=this.value.rawValue.length-1,n=this.minValue_,r=this.maxValue_,i=[];this.value.rawValue.forEach((function(o,a){if(void 0!==o){var s=X(a,0,e,0,t.width),l=X(o,n,r,t.height,0);i.push([s,l].join(","))}})),this.lineElem_.setAttributeNS(null,"points",i.join(" "));var o=this.tooltipElem_,a=this.value.rawValue[this.cursor_.index];if(void 0!==a){var s=X(this.cursor_.index,0,e,0,t.width),l=X(a,n,r,t.height,0);o.style.left=s+"px",o.style.top=l+"px",o.textContent=""+this.formatter_(a),o.classList.contains(Pi("t","a"))||(o.classList.add(Pi("t","a"),Pi("t","in")),w(o),o.classList.remove(Pi("t","in")))}else o.classList.remove(Pi("t","a"))},t.prototype.onValueUpdate_=function(){this.update_()},t.prototype.onCursorChange_=function(){this.update_()},t}(),Ei=function(){function t(t,e){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.cursor_=new xi,this.view=new Ci(t,{cursor:this.cursor_,formatter:e.formatter,lineCount:e.lineCount,maxValue:e.maxValue,minValue:e.minValue,value:this.value,viewProps:this.viewProps}),y(t)){var n=new Ne(this.view.element);n.emitter.on("down",this.onGraphPointerDown_),n.emitter.on("move",this.onGraphPointerMove_),n.emitter.on("up",this.onGraphPointerUp_)}else this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_)}return t.prototype.onGraphMouseLeave_=function(){this.cursor_.index=-1},t.prototype.onGraphMouseMove_=function(t){var e=this.view.element.getBoundingClientRect();this.cursor_.index=Math.floor(X(t.offsetX,0,e.width,0,this.value.rawValue.length))},t.prototype.onGraphPointerDown_=function(t){this.onGraphPointerMove_(t)},t.prototype.onGraphPointerMove_=function(t){t.data.point?this.cursor_.index=Math.floor(X(t.data.point.x,0,t.data.bounds.width,0,this.value.rawValue.length)):this.cursor_.index=-1},t.prototype.onGraphPointerUp_=function(){this.cursor_.index=-1},t}();function ki(){return Ve(2)}function Mi(t){return"view"in t&&"graph"===t.view}var Ti={id:"monitor-number",accept:function(t,e){return"number"==typeof t?t:null},binding:{defaultBufferSize:function(t){return Mi(t)?64:1},reader:function(t){return Se}},controller:function(t){return Mi(t.params)?function(t){var e,n,r;return new Ei(t.document,{formatter:ki(),lineCount:null!==(e=t.params.lineCount)&&void 0!==e?e:pt.defaultLineCount,maxValue:null!==(n="max"in t.params?t.params.max:null)&&void 0!==n?n:100,minValue:null!==(r="min"in t.params?t.params.min:null)&&void 0!==r?r:0,value:t.value,viewProps:t.viewProps})}(t):function(t){var e;return 1===t.value.rawValue.length?new wi(t.document,{formatter:ki(),value:t.value,viewProps:t.viewProps}):new bi(t.document,{formatter:ki(),lineCount:null!==(e=t.params.lineCount)&&void 0!==e?e:pt.defaultLineCount,value:t.value,viewProps:t.viewProps})}(t)}},Li={id:"monitor-string",accept:function(t,e){return"string"==typeof t?t:null},binding:{reader:function(t){return ci}},controller:function(t){var e,n=t.value;return n.rawValue.length>1||"multiline"in t.params&&t.params.multiline?new bi(t.document,{formatter:di,lineCount:null!==(e=t.params.lineCount)&&void 0!==e?e:pt.defaultLineCount,value:n,viewProps:t.viewProps}):new wi(t.document,{formatter:di,value:n,viewProps:t.viewProps})}};function Si(t,e,n){if(!t.querySelector("style[data-tp-style="+e+"]")){var r=t.createElement("style");r.dataset.tpStyle=e,r.textContent=n,t.head.appendChild(r)}}function Ai(t){Si(t,"default",".tp-lstv_s,.tp-btnv_b,.tp-p2dv_b,.tp-fldv_b,.tp-rotv_b,.tp-colswv_sw,.tp-p2dpv_p,.tp-txtv_i,.tp-grlv_g,.tp-sglv_i,.tp-mllv_i,.tp-ckbv_i,.tp-coltxtv_ms,.tp-tbiv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-fldv_c>.tp-cntv.tp-v-lst,.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst{margin-bottom:calc(-1 * var(--cnt-v-p))}.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-fldv_c>*:not(.tp-v-fst),.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-fldv_c>.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv{margin-left:4px}.tp-fldv_c>.tp-fldv>.tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-fldv_c .tp-fldv>.tp-fldv_c,.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-fldv_c>.tp-tabv>.tp-tabv_i,.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-fldv_c .tp-tabv>.tp-tabv_c,.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-lstv_s,.tp-btnv_b,.tp-p2dv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-h);line-height:var(--bld-h);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-lstv_s:hover,.tp-btnv_b:hover,.tp-p2dv_b:hover{background-color:var(--btn-bg-h)}.tp-lstv_s:focus,.tp-btnv_b:focus,.tp-p2dv_b:focus{background-color:var(--btn-bg-f)}.tp-lstv_s:active,.tp-btnv_b:active,.tp-p2dv_b:active{background-color:var(--btn-bg-a)}.tp-lstv_s:disabled,.tp-btnv_b:disabled,.tp-p2dv_b:disabled{opacity:0.5}.tp-fldv_b,.tp-rotv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-h) + 4px);line-height:calc(var(--bld-h) + 4px);overflow:hidden;padding-left:calc(var(--cnt-h-p) + 8px);padding-right:calc(2px * 2 + var(--bld-h) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-fldv_b:hover,.tp-rotv_b:hover{background-color:var(--cnt-bg-h)}.tp-fldv_b:focus,.tp-rotv_b:focus{background-color:var(--cnt-bg-f)}.tp-fldv_b:active,.tp-rotv_b:active{background-color:var(--cnt-bg-a)}.tp-fldv_b:disabled,.tp-rotv_b:disabled{opacity:0.5}.tp-fldv_m,.tp-rotv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:'';display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-h) + 4px - 6px) / 2 - 2px);margin:auto;opacity:0.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m,.tp-rotv.tp-rotv-expanded .tp-rotv_m{transform:none}.tp-fldv_c,.tp-rotv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-fldv.tp-fldv-expanded>.tp-fldv_c,.tp-rotv.tp-rotv-expanded .tp-rotv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-colswv_sw,.tp-p2dpv_p,.tp-txtv_i{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-h);line-height:var(--bld-h);min-width:0;width:100%}.tp-colswv_sw:hover,.tp-p2dpv_p:hover,.tp-txtv_i:hover{background-color:var(--in-bg-h)}.tp-colswv_sw:focus,.tp-p2dpv_p:focus,.tp-txtv_i:focus{background-color:var(--in-bg-f)}.tp-colswv_sw:active,.tp-p2dpv_p:active,.tp-txtv_i:active{background-color:var(--in-bg-a)}.tp-colswv_sw:disabled,.tp-p2dpv_p:disabled,.tp-txtv_i:disabled{opacity:0.5}.tp-coltxtv_m,.tp-lstv{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-coltxtv_mm,.tp-lstv_m{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-coltxtv_mm svg,.tp-lstv_m svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-coltxtv_mm svg path,.tp-lstv_m svg path{fill:currentColor}.tp-grlv_g,.tp-sglv_i,.tp-mllv_i{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-h);width:100%}.tp-coltxtv_w,.tp-pndtxtv{display:flex}.tp-coltxtv_c,.tp-pndtxtv_a{width:100%}.tp-coltxtv_c+.tp-coltxtv_c,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-pndtxtv_a{margin-left:2px}.tp-btnv_b{width:100%}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-h);position:relative;width:var(--bld-h)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:0.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-h)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1 * var(--cnt-h-p));right:calc(-1 * var(--cnt-h-p));top:var(--bld-h)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:'';height:2px;left:calc(-1 * var(--cnt-h-p));position:absolute;right:calc(-1 * var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-h) * 4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0,0,0,0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-h);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,0.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,0.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-h);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,0.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br)}.tp-colswv.tp-v-disabled{opacity:0.5}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--bld-h);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-h)}.tp-colswv_b:focus::after{border:rgba(255,255,255,0.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:'';display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-h);line-height:var(--bld-h);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-h) * 3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left 0.05s, top 0.05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:0.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:0.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:var(--value-width)}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv.tp-v-disabled .tp-lstv_s{opacity:0.5}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:0.5}.tp-mllv_i{display:block;height:calc(var(--bld-h) * 3);line-height:var(--bld-h);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:0.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-h);margin-right:4px;position:relative;width:var(--bld-h)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1 * var(--cnt-h-p));right:calc(-1 * var(--cnt-h-p));top:var(--bld-h)}.tp-p2dpv{padding-left:calc(var(--bld-h) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:0.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:0.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono,Source Code Pro,Menlo,Courier,monospace);--bs-br: var(--tp-base-border-radius-v3, 6px);--cnt-h-p: var(--tp-container-horizontal-padding-v3, 4px);--cnt-v-p: var(--tp-container-vertical-padding-v3, 4px);--elm-br: var(--tp-element-border-radius-v3, 2px);--bld-h: var(--tp-blade-height-v3, 20px);--bld-s: var(--tp-blade-spacing-v3, 4px);--value-width: var(--tp-value-width-v3, 160px);--bs-bg: var(--tp-base-background-color, #2f3137);--bs-sh: var(--tp-base-shadow-color, rgba(0,0,0,0.2));--btn-bg: var(--tp-button-background-color, #adafb8);--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, #2f3137);--cnt-bg: var(--tp-container-background-color, var(--tp-folder-background-color, rgba(187,188,196,0.1)));--cnt-bg-a: var(--tp-container-background-color-active, var(--tp-folder-background-color-active, rgba(187,188,196,0.25)));--cnt-bg-f: var(--tp-container-background-color-focus, var(--tp-folder-background-color-focus, rgba(187,188,196,0.2)));--cnt-bg-h: var(--tp-container-background-color-hover, var(--tp-folder-background-color-hover, rgba(187,188,196,0.15)));--cnt-fg: var(--tp-container-foreground-color, var(--tp-folder-foreground-color, #bbbcc4));--in-bg: var(--tp-input-background-color, rgba(0,0,0,0.2));--in-bg-a: var(--tp-input-background-color-active, rgba(0,0,0,0.35));--in-bg-f: var(--tp-input-background-color-focus, rgba(0,0,0,0.3));--in-bg-h: var(--tp-input-background-color-hover, rgba(0,0,0,0.25));--in-fg: var(--tp-input-foreground-color, #bbbcc4);--lbl-fg: var(--tp-label-foreground-color, rgba(187,188,196,0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0,0,0,0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187,188,196,0.7));--grv-fg: var(--tp-groove-foreground-color, var(--tp-separator-color, rgba(0,0,0,0.2)));--button-background-color: var(--btn-bg);--button-background-color-active: var(--btn-bg-a);--button-background-color-focus: var(--btn-bg-f);--button-background-color-hover: var(--btn-bg-h);--button-foreground-color: var(--btn-fg);--folder-background-color: var(--cnt-bg);--folder-background-color-active: var(--cnt-bg-a);--folder-background-color-focus: var(--cnt-bg-f);--folder-background-color-hover: var(--cnt-bg-h);--folder-foreground-color: var(--cnt-fg);--input-background-color: var(--in-bg);--input-background-color-active: var(--in-bg-a);--input-background-color-focus: var(--in-bg-f);--input-background-color-hover: var(--in-bg-h);--input-foreground-color: var(--in-fg);--label-foregound-color: var(--lbl-fg);--monitor-background-color: var(--mo-bg);--monitor-foreground-color: var(--mo-fg);--separator-color: var(--grv-fg);--unit-size: var(--bld-h)}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(2px * 2 + var(--bld-h) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1 * var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1 * var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:0.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-h);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:'';display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:'';display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:'';display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:0.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-h) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:'';height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:'';height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:0.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-h) + 4px);line-height:calc(var(--bld-h) + 4px);opacity:0.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:0.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:'';height:calc(var(--bld-h) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:0.1;position:absolute;top:0;transition:border-radius 0.1s, height 0.1s, transform 0.1s, width 0.1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) transparent transparent transparent;border-style:solid;border-width:2px;box-sizing:border-box;content:'';font-size:0.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}"),r(Ot.blades,Ot.inputs,Ot.monitors).forEach((function(e){e.css&&Si(t,"plugin-"+e.id,e.css)}))}var Vi=function(t){function n(e){var n,r=this,i=e||{},o=null!==(n=i.document)&&void 0!==n?n:x().document,a=new ce(o,{expanded:i.expanded,blade:h(),props:d.fromObject({title:i.title}),viewProps:z.create()});return(r=t.call(this,a)||this).containerElem_=i.container||function(t){var e=t.createElement("div");return e.classList.add(f("dfw")()),t.body&&t.body.appendChild(e),e}(o),r.containerElem_.appendChild(r.element),r.doc_=o,r.usesDefaultWrapper_=!i.container,Ai(r.document),r}return e(n,t),Object.defineProperty(n.prototype,"document",{get:function(){if(!this.doc_)throw s.alreadyDisposed();return this.doc_},enumerable:!1,configurable:!0}),n.prototype.dispose=function(){var e=this.containerElem_;if(!e)throw s.alreadyDisposed();if(this.usesDefaultWrapper_){var n=e.parentElement;n&&n.removeChild(e)}this.containerElem_=null,this.doc_=null,t.prototype.dispose.call(this)},n.version=new vi("2.4.3"),n}(pe);return[$r,ii,pi,hi,Vr,Lr,Tr,Mr,gn].forEach((function(t){kt({type:"input",plugin:t})})),[yi,Li,Ti].forEach((function(t){kt({type:"monitor",plugin:t})})),[Qe,Ht,an,cn].forEach((function(t){kt({type:"blade",plugin:t})})),Vi}()},670:(t,e,n)=>{"use strict";t.exports=n.p+"5b6ae5b8da4d25a33367.jpg"},914:(t,e,n)=>{"use strict";t.exports=n.p+"824c353a32a12746291a.jpg"},784:(t,e,n)=>{"use strict";t.exports=n.p+"26d572227df6c7ae843b.jpg"},627:(t,e,n)=>{"use strict";t.exports=n.p+"b5c7b14b13e259b8461e.jpg"},922:(t,e,n)=>{"use strict";t.exports=n.p+"d6bf75f683ccc82f7da4.jpg"},170:(t,e,n)=>{"use strict";t.exports=n.p+"da9f80b990e915833905.jpg"},51:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nin vec3 v_color;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = vec4(v_color, 1);\n}\n"},528:t=>{"use strict";t.exports="#version 300 es\n\nin vec3 a_position;\nin vec3 a_color;\n\nuniform mat4 u_matrix;\n\nout vec3 v_color;\n\nvoid main(void) {\n  gl_Position = u_matrix * vec4(a_position, 1);\n\n  v_color = a_color;\n}\n"},796:t=>{"use strict";t.exports="#version 300 es\n\nprecision highp float;\n\nin vec4 v_position;\n\nuniform samplerCube u_texture;\nuniform mat4 u_matrixInv;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  vec4 t = u_matrixInv * v_position;\n  finalColor = texture(u_texture, normalize(t.xyz / t.w));\n}\n"},544:t=>{"use strict";t.exports="#version 300 es\n\nin vec4 a_position;\n\nout vec4 v_position;\n\nvoid main(void) {\n  v_position = a_position;\n  gl_Position = a_position;\n  // TODO: figure out why 1.0 doesn't work here ;_;\n  gl_Position.z = 0.999999;\n}\n"},584:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nin vec4 v_color;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = v_color;\n}\n"},778:t=>{"use strict";t.exports="#version 300 es\n\nin vec4 a_position;\nin vec4 a_color;\n\nuniform mat4 u_matrix;\n\nout vec4 v_color;\n\nvoid main(void) {\n  gl_Position = u_matrix * a_position;\n\n  v_color = a_color;\n}\n"},57:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nin vec2 v_uv;\n\nuniform float u_width;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  float w = u_width / 2.0;\n  float wi = 1.0 - w;\n  float c = (v_uv.x <= w || v_uv.x >= wi || v_uv.y <= w || v_uv.y >= wi) ? 0.0 : 1.0;\n  finalColor = vec4(c, c, c, 1.0 - c);\n}\n"},822:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nin vec2 v_uv;\n\nuniform float u_width;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  float width = u_width / 2.0;\n  vec2 delta = v_uv - vec2(0.5, 0.5);\n  float dist = 0.5 - sqrt(delta.x * delta.x + delta.y * delta.y);\n  float a = (dist > width || dist < 0.0) ? 0.0 : 1.0;\n  finalColor = vec4(0, 0, 0, a);\n}\n"},738:t=>{"use strict";t.exports="#version 300 es\n\nin vec3 a_position;\nin vec2 a_uv;\n\nuniform mat4 u_matrix;\n\nout vec2 v_uv;\n\nvoid main(void) {\n  v_uv = a_uv;\n  gl_Position = u_matrix * vec4(a_position, 1);\n}\n"},446:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nin vec3 v_color;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = vec4(v_color, 1);\n}\n"},10:t=>{"use strict";t.exports="#version 300 es\n\nin vec3 a_position;\nin vec3 a_color;\n\nuniform mat4 u_matrix;\n\nout vec3 v_color;\n\nvoid main(void) {\n  gl_Position = u_matrix * vec4(a_position, 1);\n\n  v_color = a_color;\n}\n"},37:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = vec4(1.0);\n}\n"},189:t=>{"use strict";t.exports="#version 300 es\n\nin vec2 a_position;\n\nvoid main(void) {\n  gl_PointSize = 50.0;\n  gl_Position = vec4(a_position, 0.0, 1.0);\n}\n"},802:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nuniform vec4 u_pointColor;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = u_pointColor;\n}\n"},800:t=>{"use strict";t.exports="#version 300 es\n\nin vec3 a_position;\n\nuniform float u_pointSize;\nuniform float u_angle;\n\nvoid main(void) {\n  gl_PointSize = u_pointSize;\n  gl_Position = vec4(\n    cos(u_angle) * 0.8 + a_position.x,\n    sin(u_angle) * 0.8 + a_position.y,\n    a_position.z,\n    1.0\n  );\n}\n"},389:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = vec4(1.0, 1.0, 1.0, 1.0);\n}\n"},827:t=>{"use strict";t.exports="#version 300 es\n\nin vec3 a_position;\n\nuniform float u_angle;\n\nvoid main(void) {\n  gl_PointSize = 10.0 + sin(u_angle * 5.0) * 5.0;\n  gl_Position = vec4(\n    cos(u_angle) * 0.8 + a_position.x,\n    sin(u_angle) * 0.8 + a_position.y,\n    a_position.z,\n    1.0\n  );\n}\n"},565:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nin vec4 color;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = color;\n}\n"},290:t=>{"use strict";t.exports="#version 300 es\n\nin vec3 a_position;\n\nuniform vec3 u_color[2];\n\nout lowp vec4 color;\n\nvoid main(void) {\n  color = vec4(u_color[ int(a_position.z) ], 1.0);\n  gl_Position = vec4(a_position.xy, 0.0, 1.0);\n}\n"},322:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = vec4(1);\n}\n"},107:t=>{"use strict";t.exports="#version 300 es\n\nin vec2 a_position;\n\nuniform vec2 u_resolution;\nuniform mat3 u_matrix;\n\nvoid main(void) {\n  float ratio = u_resolution.x / u_resolution.y;\n\n  vec2 ratioCorrectedPosition = vec2(a_position.x, a_position.y * ratio);\n\n  vec2 transformedPosition = (u_matrix * vec3(a_position, 1)).xy;\n\n  gl_Position = vec4(transformedPosition, 0.0, 1.0);\n}\n"},259:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nin vec2 v_uv;\n\nuniform sampler2D u_texture;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = texture(u_texture, v_uv);\n}\n"},280:t=>{"use strict";t.exports="#version 300 es\n\nin vec3 a_position;\nin vec2 a_uv;\n\nuniform float u_time;\nuniform mat4 u_matrix;\n\nout highp vec2 v_uv;\n\nfloat rand(float x) {\n  return fract(sin(x) * 1.0);\n}\n\nvoid main(void) {\n  v_uv = a_uv;\n  float offsetX = rand(a_position.x + a_position.y * 3.0 + a_position.z);\n  float offsetY = offsetX * 1.7;\n  vec4 pos = vec4(\n    a_position.x + a_position.z * ((sin(u_time + offsetX) + 1.0) * 0.2),\n    a_position.y + a_position.z * ((sin(u_time + offsetY) + 1.0) * 0.2),\n    a_position.z,\n    1\n  );\n  gl_Position = u_matrix * pos;\n}\n"},737:t=>{"use strict";t.exports="#version 300 es\n\nin vec3 a_position;\nin vec2 a_uv;\n\nuniform mat4 u_matrix;\n\nout highp vec2 v_uv;\n\nvoid main(void) {\n  v_uv = a_uv;\n  gl_Position = u_matrix * vec4(a_position, 1);\n}\n"},783:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nin vec3 v_color;\nin vec2 v_uv;\n\nuniform float u_mix;\nuniform sampler2D u_texture;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = mix(vec4(v_color, 1), texture(u_texture, v_uv), u_mix);\n}\n"},232:t=>{"use strict";t.exports="#version 300 es\n\nin vec3 a_position;\nin vec3 a_color;\nin vec2 a_uv;\nin vec3 a_normal;\n\nuniform float u_time;\nuniform mat4 u_matrix;\n\nout vec3 v_color;\nout vec2 v_uv;\n\nvec3 warp(vec3 p) {\n  return p + 0.2 * abs(cos(u_time + p.z)) * a_normal;\n}\n\nvoid main(void) {\n  gl_Position = u_matrix * vec4(warp(a_position), 1);\n\n  v_color = a_color;\n  v_uv = a_uv;\n}\n"},722:(t,e,n)=>{"use strict";t.exports=n.p+"b9620712fd4c31089211.obj"},227:(t,e,n)=>{"use strict";t.exports=n.p+"48f347ea844c2fb45b38.obj"},291:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nin vec2 v_uv;\n\nuniform sampler2D u_texture;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = texture(u_texture, v_uv);\n}\n"},422:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nin vec3 v_color;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = vec4(v_color, 1);\n}\n"},682:(t,e,n)=>{"use strict";t.exports=n.p+"360925dfb04df40ae5d1.jpg"},286:(t,e,n)=>{"use strict";t.exports=n.p+"269826b4ba1e3be0a468.obj"},346:t=>{"use strict";t.exports="#version 300 es\n\nin vec3 a_position;\nin vec2 a_uv;\n\nuniform mat4 u_matrix;\n\nout vec2 v_uv;\n\nvoid main(void) {\n  gl_Position = u_matrix * vec4(a_position, 1);\n\n  v_uv = a_uv;\n}\n"},853:t=>{"use strict";t.exports="#version 300 es\n\nin vec3 a_position;\nin vec3 a_color;\n\nuniform mat4 u_matrix;\n\nout vec3 v_color;\n\nvoid main(void) {\n  gl_Position = u_matrix * vec4(a_position, 1);\n\n  v_color = a_color;\n}\n"}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{"use strict";var t=n(379),e=n.n(t),r=n(426);e()(r.Z,{insert:"head",singleton:!1}),r.Z.locals;var i="undefined"!=typeof Float32Array?Float32Array:Array;Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var o=Math.random,a=(Math.floor,Math.PI),s=(Math.sin,Math.cos,Math.sqrt,Math.atan2,Math.acos,function(t){throw console.warn(t),new Error("This should be unreachable!")}),l=function(t){return void 0===t&&(t=1),o()*t},u=function(t){return void 0===t&&(t=1),l(2*t)-t},p=function(t,e,n){return(n-t)/(e-t)},c=function(t,e,n,r,i,o){return t*(1-i)*(1-o)+e*i*(1-o)+r*(1-i)*o+n*i*o},d=a/180,h=function(t){return t*d},v=function(t,e){for(var n=0;n<t;n++)e(n)},f=function(t){return e=void 0,n=void 0,i=function(){return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(e){switch(e.label){case 0:return[4,fetch(t)];case 1:return[2,e.sent().text()]}}))},new((r=void 0)||(r=Promise))((function(t,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,s)}l((i=i.apply(e,n||[])).next())}));var e,n,r,i},m=function(){function t(t,e,n,r,i){this.gl=t;var o=this.createShader(t.VERTEX_SHADER,e),a=this.createShader(t.FRAGMENT_SHADER,n);this.attributes=i;var s=this.createProgram(o,a);this.program=s,this.uniforms=r,this.resolutionLocation=t.getUniformLocation(s,"u_resolution"),this.timeLocation=t.getUniformLocation(s,"u_time");var l={};for(var u in r)l[u]=t.getUniformLocation(s,"u_"+u);this.locations=l}return t.prototype.use=function(){this.gl.useProgram(this.program)},t.prototype.setUniform=function(t,e){var n=this.gl,r=this.uniforms[t];switch(r.type){case"f":n.uniform1f(this.locations[t],e);break;case"2f":case"2fv":n.uniform2fv(this.locations[t],e);break;case"3f":case"3fv":n.uniform3fv(this.locations[t],e);break;case"matrix3fv":n.uniformMatrix3fv(this.locations[t],!1,e);break;case"4f":case"4fv":n.uniform4fv(this.locations[t],e);break;case"matrix4fv":n.uniformMatrix4fv(this.locations[t],!1,e);break;default:s(r)}},t.prototype.setStandardUniforms=function(t){this.gl.uniform2f(this.resolutionLocation,this.gl.canvas.width,this.gl.canvas.height),this.gl.uniform1f(this.timeLocation,t)},t.prototype.createShader=function(t,e){var n=this.gl,r=n.createShader(t);if(null===r)throw new Error("Cannot create shader");if(n.shaderSource(r,e),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS))throw console.warn(n.getShaderInfoLog(r)),n.deleteShader(r),new Error("Cannot compile shader");return r},t.prototype.createProgram=function(t,e){var n=this.gl,r=n.createProgram();if(null===r)throw new Error("Cannot create program");if(n.attachShader(r,t),n.attachShader(r,e),this.attributes.forEach((function(t,e){n.bindAttribLocation(r,e,t)})),n.linkProgram(r),!n.getProgramParameter(r,n.LINK_STATUS))throw console.warn(n.getProgramInfoLog(r)),n.deleteProgram(r),new Error("Cannot link program");if(n.validateProgram(r),!n.getProgramParameter(r,n.VALIDATE_STATUS))throw console.warn(n.getProgramInfoLog(r)),n.deleteProgram(r),new Error("Program validation error");return n.detachShader(r,t),n.detachShader(r,e),n.deleteShader(t),n.deleteShader(e),r},t.prototype.destroy=function(){var t=this.gl;t.getParameter(t.CURRENT_PROGRAM)===this.program&&this.gl.useProgram(null),t.deleteProgram(this.program)},t}(),b=function(){function t(t){this.gl=t,this.canvasObserver=new ResizeObserver(this.updateCanvas.bind(this)),this.canvasObserver.observe(t.canvas)}return t.prototype.clear=function(){var t=this.gl;t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)},t.prototype.updateCanvas=function(){var t=this.gl.canvas,e=t.getBoundingClientRect();t.width===e.width&&t.height===e.width||(t.width=e.width*window.devicePixelRatio,t.height=e.height*window.devicePixelRatio,this.gl.viewport(0,0,t.width,t.height))},t.prototype.destroy=function(){this.canvasObserver.disconnect()},t}(),g=function(){function t(t,e,n,r,i){this.gl=t,this.name=e,this.size=r,this.count=n.length/this.size,this.location=t.getAttribLocation(i.program,e),this.buffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(n),t.STATIC_DRAW)}return t.prototype.prepare=function(){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.enableVertexAttribArray(this.location),t.vertexAttribPointer(this.location,this.size,t.FLOAT,!1,0,0)},t.prototype.draw=function(t){this.gl.drawArrays(t,0,this.count)},t.prototype.drawPoints=function(){this.draw(this.gl.POINTS)},t.prototype.drawLines=function(){this.draw(this.gl.LINES)},t.prototype.drawTriangles=function(){this.draw(this.gl.TRIANGLES)},t.prototype.swapProgram=function(t){this.location=this.gl.getAttribLocation(t.program,this.name)},t.prototype.destroy=function(){},t}(),_=n(189),w=n(37),y=n(498),x=n.n(y),P=function(t){var e=new(x())({title:"Parameters"});this.values={};var n=function(n){var i,o,a=t[n];switch(a.type){case"float":r.values[n]=a.default,e.addInput(r.values,n,{min:a.min,max:a.max,step:a.step});break;case"vec2":var l=[a.default[0],a.default[1]];r.values[n]=l;var u=((i={})[n]={x:a.default[0],y:a.default[1]},i);e.addInput(u,n,{x:{min:a.min,max:a.max,step:a.step},y:{min:a.min,max:a.max,step:a.step,inverted:!0}}).on("change",(function(t){l[0]=t.value.x,l[1]=t.value.y}));break;case"vec3":var p=[a.default[0],a.default[1],a.default[2]];r.values[n]=p;var c=((o={})[n]={x:a.default[0],y:a.default[1],z:a.default[2]},o);e.addInput(c,n,{x:{min:a.min,max:a.max},y:{min:a.min,max:a.max},z:{min:a.min,max:a.max}}).on("change",(function(t){p[0]=t.value.x,p[1]=t.value.y,p[2]=t.value.z}));break;case"select":r.values[n]=a.options[0];var d={};a.options.forEach((function(t){return d[t]=t})),e.addInput(r.values,n,{options:d}).on("change",(function(t){return a.onChange&&a.onChange(t.value)}));break;case"functions":Object.keys(a.functions).forEach((function(t){return e.addButton({title:t}).on("click",(function(){return a.functions[t]()}))}));break;default:s(a)}},r=this;for(var i in t)n(i)},C=n(466),E=function(){function t(t){var e=this;this.lastTime=performance.now(),this.raf=0;var n=new C;n.showPanel(0),document.body.appendChild(n.dom);var r=function(){n.begin();var i=performance.now(),o=(i-e.lastTime)/1e3;e.lastTime=i,t(o,i/1e3),n.end(),e.raf=window.requestAnimationFrame(r)};r()}return t.prototype.destroy=function(){window.cancelAnimationFrame(this.raf)},t}(),k=n(800),M=n(802),T=function(){function t(t,e,n){var r=this;if(this.gl=t,this.vao=t.createVertexArray(),this.count=e[0].data.length/e[0].size,t.bindVertexArray(this.vao),e.forEach((function(t,e){r.initBuffer(t,e)})),n){var i=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(n),t.STATIC_DRAW);var o=n.length;this.index={buffer:i,count:o}}t.bindVertexArray(null),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}return t.prototype.initBuffer=function(t,e){var n=this.gl,r=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,r),n.bufferData(n.ARRAY_BUFFER,t.data,n.STATIC_DRAW),n.enableVertexAttribArray(e);var i="float"===t.type?n.FLOAT:"unsigned-byte"===t.type?n.UNSIGNED_BYTE:0,o="unsigned-byte"===t.type&&t.normalized;n.vertexAttribPointer(e,t.size,i,o,0,0)},t.prototype.draw=function(t){var e=this.gl;e.bindVertexArray(this.vao),this.index?e.drawElements(t,this.index.count,e.UNSIGNED_SHORT,0):e.drawArrays(t,0,this.count),e.bindVertexArray(null)},t.prototype.drawPoints=function(){this.draw(this.gl.POINTS)},t.prototype.drawLines=function(){this.draw(this.gl.LINES)},t.prototype.drawTriangles=function(){this.draw(this.gl.TRIANGLES)},t.prototype.destroy=function(){},t}(),L=n(827),S=n(389),A=n(290),V=n(565),R=function(){for(var t=[],e=0;e<=10;e++){var n=.18*e-.9;t.push(n,.9,0),t.push(n,-.9,1);var r=.9-.18*e;t.push(-.9,r,0),t.push(.9,r,1)}return new Float32Array(t)};function j(){var t=new i(9);return i!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}var D=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],p=e[7],c=e[8],d=n[0],h=n[1],v=n[2],f=n[3],m=n[4],b=n[5],g=n[6],_=n[7],w=n[8];return t[0]=d*r+h*a+v*u,t[1]=d*i+h*s+v*p,t[2]=d*o+h*l+v*c,t[3]=f*r+m*a+b*u,t[4]=f*i+m*s+b*p,t[5]=f*o+m*l+b*c,t[6]=g*r+_*a+w*u,t[7]=g*i+_*s+w*p,t[8]=g*o+_*l+w*c,t};function U(){var t=new i(3);return i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function O(t){var e=new i(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function I(t,e,n){var r=new i(3);return r[0]=t,r[1]=e,r[2]=n,r}function F(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function N(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function B(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function z(t){return t[0]=0,t[1]=0,t[2]=0,t}var K;function H(t,e,n,r){var o=new i(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o}function q(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function G(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}function X(){var t=new i(4);return i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Y(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+a*s,t[1]=i*l+o*s,t[2]=o*l-i*s,t[3]=a*l-r*s,t}function Q(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l-o*s,t[1]=i*l+a*s,t[2]=o*l+r*s,t[3]=a*l-i*s,t}function W(t,e,n){n*=.5;var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+i*s,t[1]=i*l-r*s,t[2]=o*l+a*s,t[3]=a*l-o*s,t}U(),K=new i(4),i!=Float32Array&&(K[0]=0,K[1]=0,K[2]=0,K[3]=0);function $(){var t=new i(16);return i!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function J(t){var e=new i(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Z(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],p=e[8],c=e[9],d=e[10],h=e[11],v=e[12],f=e[13],m=e[14],b=e[15],g=n*s-r*a,_=n*l-i*a,w=n*u-o*a,y=r*l-i*s,x=r*u-o*s,P=i*u-o*l,C=p*f-c*v,E=p*m-d*v,k=p*b-h*v,M=c*m-d*f,T=c*b-h*f,L=d*b-h*m,S=g*L-_*T+w*M+y*k-x*E+P*C;return S?(S=1/S,t[0]=(s*L-l*T+u*M)*S,t[1]=(i*T-r*L-o*M)*S,t[2]=(f*P-m*x+b*y)*S,t[3]=(d*x-c*P-h*y)*S,t[4]=(l*k-a*L-u*E)*S,t[5]=(n*L-i*k+o*E)*S,t[6]=(m*w-v*P-b*_)*S,t[7]=(p*P-d*w+h*_)*S,t[8]=(a*T-s*k+u*C)*S,t[9]=(r*k-n*T-o*C)*S,t[10]=(v*x-f*w+b*g)*S,t[11]=(c*w-p*x-h*g)*S,t[12]=(s*E-a*M-l*C)*S,t[13]=(n*M-r*E+i*C)*S,t[14]=(f*_-v*y-m*g)*S,t[15]=(p*y-c*_+d*g)*S,t):null}function tt(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],p=e[9],c=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+u*r,t[5]=a*i+p*r,t[6]=s*i+c*r,t[7]=l*i+d*r,t[8]=u*i-o*r,t[9]=p*i-a*r,t[10]=c*i-s*r,t[11]=d*i-l*r,t}function et(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],l=i+i,u=o+o,p=a+a,c=i*l,d=i*u,h=i*p,v=o*u,f=o*p,m=a*p,b=s*l,g=s*u,_=s*p,w=r[0],y=r[1],x=r[2];return t[0]=(1-(v+m))*w,t[1]=(d+_)*w,t[2]=(h-g)*w,t[3]=0,t[4]=(d-_)*y,t[5]=(1-(c+m))*y,t[6]=(f+b)*y,t[7]=0,t[8]=(h+g)*x,t[9]=(f-b)*x,t[10]=(1-(c+v))*x,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}U(),I(1,0,0),I(0,1,0),X(),X(),j();var nt,rt,it,ot,at=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],p=e[7],c=e[8],d=e[9],h=e[10],v=e[11],f=e[12],m=e[13],b=e[14],g=e[15],_=n[0],w=n[1],y=n[2],x=n[3];return t[0]=_*r+w*s+y*c+x*f,t[1]=_*i+w*l+y*d+x*m,t[2]=_*o+w*u+y*h+x*b,t[3]=_*a+w*p+y*v+x*g,_=n[4],w=n[5],y=n[6],x=n[7],t[4]=_*r+w*s+y*c+x*f,t[5]=_*i+w*l+y*d+x*m,t[6]=_*o+w*u+y*h+x*b,t[7]=_*a+w*p+y*v+x*g,_=n[8],w=n[9],y=n[10],x=n[11],t[8]=_*r+w*s+y*c+x*f,t[9]=_*i+w*l+y*d+x*m,t[10]=_*o+w*u+y*h+x*b,t[11]=_*a+w*p+y*v+x*g,_=n[12],w=n[13],y=n[14],x=n[15],t[12]=_*r+w*s+y*c+x*f,t[13]=_*i+w*l+y*d+x*m,t[14]=_*o+w*u+y*h+x*b,t[15]=_*a+w*p+y*v+x*g,t},st=function(){function t(){this.translationMatrix=j(),this.rotationMatrix=j(),this.scaleMatrix=j(),this.matrix=j()}return t.prototype.setTranslation=function(t){var e,n;n=t,(e=this.translationMatrix)[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=n[0],e[7]=n[1],e[8]=1},t.prototype.setRotation=function(t){var e,n,r,i;e=this.rotationMatrix,n=t,r=Math.sin(n),i=Math.cos(n),e[0]=i,e[1]=r,e[2]=0,e[3]=-r,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1},t.prototype.setScale=function(t){var e,n;n=t,(e=this.scaleMatrix)[0]=n[0],e[1]=0,e[2]=0,e[3]=0,e[4]=n[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1},t.prototype.reset=function(){var t;(t=this.matrix)[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1},t.prototype.update=function(){return D(this.matrix,this.matrix,this.translationMatrix),D(this.matrix,this.matrix,this.rotationMatrix),D(this.matrix,this.matrix,this.scaleMatrix),this.matrix},t}(),lt=X(),ut=[0,0,0],pt=[0,1,0],ct=function(){function t(){this.translation=U(),this.rotation=U(),this.scale=I(1,1,1),this.lookAtMatrixTemp=$(),this.rotationQuatTemp=X(),this.matrixTemp=$(),this.matrix=$(),this.direction={right:H(1,0,0,0),up:H(0,1,0,0),forward:H(0,0,1,0)}}return t.prototype.resetTransforms=function(){var t;z(this.translation),z(this.rotation),(t=this.scale)[0]=1,t[1]=1,t[2]=1},t.prototype.resetMatrix=function(){(function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1})(this.matrix),q(this.direction.right,1,0,0,0),q(this.direction.up,0,1,0,0),q(this.direction.forward,0,0,1,0)},t.prototype.applyTransforms=function(){return this.lookAt?(function(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=r[0],l=r[1],u=r[2],p=i-n[0],c=o-n[1],d=a-n[2],h=p*p+c*c+d*d;h>0&&(p*=h=1/Math.sqrt(h),c*=h,d*=h);var v=l*d-u*c,f=u*p-s*d,m=s*c-l*p;(h=v*v+f*f+m*m)>0&&(v*=h=1/Math.sqrt(h),f*=h,m*=h),t[0]=v,t[1]=f,t[2]=m,t[3]=0,t[4]=c*m-d*f,t[5]=d*v-p*m,t[6]=p*f-c*v,t[7]=0,t[8]=p,t[9]=c,t[10]=d,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1}(this.lookAtMatrixTemp,this.translation,this.lookAt,pt),at(this.matrix,this.matrix,this.lookAtMatrixTemp),Y(this.rotationQuatTemp,lt,h(this.rotation[0])),Q(this.rotationQuatTemp,this.rotationQuatTemp,h(this.rotation[1])),W(this.rotationQuatTemp,this.rotationQuatTemp,h(this.rotation[2])),et(this.matrixTemp,this.rotationQuatTemp,ut,this.scale)):(Y(this.rotationQuatTemp,lt,h(this.rotation[0])),Q(this.rotationQuatTemp,this.rotationQuatTemp,h(this.rotation[1])),W(this.rotationQuatTemp,this.rotationQuatTemp,h(this.rotation[2])),et(this.matrixTemp,this.rotationQuatTemp,this.translation,this.scale)),at(this.matrix,this.matrix,this.matrixTemp),G(this.direction.right,[1,0,0,0],this.matrix),G(this.direction.up,[0,1,0,0],this.matrix),G(this.direction.forward,[0,0,1,0],this.matrix),this.matrix},t.prototype.applyTransformsOrbit=function(){var t,e,n,r,i,o,a,s,l,u,p,c,d;return t=this.matrix,e=this.matrix,n=h(this.rotation[2]),r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],p=e[5],c=e[6],d=e[7],e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+u*r,t[1]=a*i+p*r,t[2]=s*i+c*r,t[3]=l*i+d*r,t[4]=u*i-o*r,t[5]=p*i-a*r,t[6]=c*i-s*r,t[7]=d*i-l*r,function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[8],p=e[9],c=e[10],d=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-u*r,t[1]=a*i-p*r,t[2]=s*i-c*r,t[3]=l*i-d*r,t[8]=o*r+u*i,t[9]=a*r+p*i,t[10]=s*r+c*i,t[11]=l*r+d*i}(this.matrix,this.matrix,h(this.rotation[1])),tt(this.matrix,this.matrix,h(this.rotation[0])),function(t,e,n){var r,i,o,a,s,l,u,p,c,d,h,v,f=n[0],m=n[1],b=n[2];e===t?(t[12]=e[0]*f+e[4]*m+e[8]*b+e[12],t[13]=e[1]*f+e[5]*m+e[9]*b+e[13],t[14]=e[2]*f+e[6]*m+e[10]*b+e[14],t[15]=e[3]*f+e[7]*m+e[11]*b+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],p=e[7],c=e[8],d=e[9],h=e[10],v=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=p,t[8]=c,t[9]=d,t[10]=h,t[11]=v,t[12]=r*f+s*m+c*b+e[12],t[13]=i*f+l*m+d*b+e[13],t[14]=o*f+u*m+h*b+e[14],t[15]=a*f+p*m+v*b+e[15])}(this.matrix,this.matrix,this.translation),function(t,e,n){var r=n[0],i=n[1],o=n[2];t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]}(this.matrix,this.matrix,this.scale),G(this.direction.right,[1,0,0,0],this.matrix),G(this.direction.up,[0,1,0,0],this.matrix),G(this.direction.forward,[0,0,1,0],this.matrix),this.matrix},t}(),dt=(.1,nt=.15,rt=.03,it=0,ot=0,{type:"float",data:new Float32Array([[it,ot],[it+rt,ot],[it,ot+nt],[it,ot+nt],[it+rt,ot],[it+rt,ot+nt],[it+rt,ot],[it+.1,ot],[it+rt,ot+rt],[it+rt,ot+rt],[it+.1,ot],[it+.1,ot+rt],[it+rt,ot+.06],[it+.2/3,ot+.06],[it+rt,ot+.09],[it+rt,ot+.09],[it+.2/3,ot+.06],[it+.2/3,ot+.09]].map((function(t){return[t[0],-t[1]]})).flat()),size:2}),ht=n(107),vt=n(322),ft=function(){function t(t,e){this.mouseCapture=!1,this.paused=!1,this.canvas=t.canvas,this.listeners=e,e.keyDown&&(this.boundKeyDownListener=this.keyDownListener.bind(this),document.addEventListener("keydown",this.boundKeyDownListener)),e.keyUp&&(this.boundKeyUpListener=this.keyUpListener.bind(this),document.addEventListener("keyup",this.boundKeyUpListener)),e.mouseMove&&(this.boundMouseDownListener=this.mouseDownListener.bind(this),this.canvas.addEventListener("mousedown",this.boundMouseDownListener),this.boundMouseUpListener=this.mouseUpListener.bind(this),document.addEventListener("mouseup",this.boundMouseUpListener),this.boundMouseMoveListener=this.mouseMoveListener.bind(this),document.addEventListener("mousemove",this.boundMouseMoveListener)),e.wheel&&(this.boundWheelListener=this.wheelListener.bind(this),this.canvas.addEventListener("wheel",this.boundWheelListener))}return t.prototype.keyDownListener=function(t){this.paused||this.listeners.keyDown(t)},t.prototype.keyUpListener=function(t){this.paused||this.listeners.keyUp(t)},t.prototype.mouseDownListener=function(){this.mouseCapture=!0},t.prototype.mouseUpListener=function(){this.mouseCapture=!1},t.prototype.mouseMoveListener=function(t){this.mouseCapture&&!this.paused&&this.listeners.mouseMove(t)},t.prototype.wheelListener=function(t){this.paused||this.listeners.wheel(t)},t.prototype.destroy=function(){this.boundKeyDownListener&&document.removeEventListener("keydown",this.boundKeyDownListener),this.boundKeyUpListener&&document.removeEventListener("keyup",this.boundKeyUpListener),this.boundMouseDownListener&&this.canvas.removeEventListener("mousedown",this.boundMouseDownListener),this.boundMouseUpListener&&document.removeEventListener("mouseup",this.boundMouseUpListener),this.boundMouseMoveListener&&document.removeEventListener("mousemove",this.boundMouseMoveListener),this.boundWheelListener&&this.canvas.removeEventListener("wheel",this.boundWheelListener)},t}(),mt=function(){function t(t,e,n){void 0===n&&(n=1),this.projectionParams={fovy:h(45),near:.1,far:4e3},this.transform=new ct,this.viewMatrix=$(),this.projectionMatrix=$(),this.viewProjectionMatrix=$(),this.canvas=t.canvas,this.controller="fps"===e?new bt(t,this.transform,n):new gt(t,this.transform,n),this.mode=e}return Object.defineProperty(t.prototype,"fovy",{set:function(t){this.projectionParams.fovy=h(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"near",{set:function(t){this.projectionParams.near=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"far",{set:function(t){this.projectionParams.far=t},enumerable:!1,configurable:!0}),t.prototype.pauseInputController=function(){this.controller.inputController.paused=!0},t.prototype.startInputController=function(){this.controller.inputController.paused=!1},t.prototype.setTranslation=function(t,e){void 0===e&&(e=!1),this.controller.setTranslation(t),e&&F(this.transform.translation,t)},t.prototype.setRotation=function(t,e){void 0===e&&(e=!1),this.controller.setRotation(t),e&&F(this.transform.rotation,t)},t.prototype.update=function(){var t,e,n,r,i,o,a;return t=this.projectionMatrix,e=this.projectionParams.fovy,n=this.canvas.width/this.canvas.height,r=this.projectionParams.near,i=this.projectionParams.far,a=1/Math.tan(e/2),t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),this.transform.resetMatrix(),"fps"===this.mode?this.transform.applyTransforms():this.transform.applyTransformsOrbit(),Z(this.viewMatrix,this.transform.matrix),at(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),this.controller.update(),this.viewProjectionMatrix},t.prototype.destroy=function(){this.controller.destroy()},t}(),bt=function(){function t(t,e,n){this.translationFlags={forward:!1,back:!1,left:!1,right:!1,up:!1,down:!1},this.mouseMoveCoef=.2,this.lerpFactor=.2,this.cameraTransform=e,this.moveCoef=n,this.translationTarget=O(e.translation),this.rotationTarget=O(e.rotation),this.inputController=new ft(t,{keyDown:this.keyDownListener.bind(this),keyUp:this.keyUpListener.bind(this),mouseMove:this.mouseMoveListener.bind(this)})}return t.prototype.keyDownListener=function(t){"KeyW"===t.code?this.translationFlags.forward=!0:"KeyS"===t.code?this.translationFlags.back=!0:"KeyA"===t.code?this.translationFlags.left=!0:"KeyD"===t.code?this.translationFlags.right=!0:"KeyR"===t.code?this.translationFlags.up=!0:"KeyF"===t.code&&(this.translationFlags.down=!0)},t.prototype.keyUpListener=function(t){"KeyW"===t.code?this.translationFlags.forward=!1:"KeyS"===t.code?this.translationFlags.back=!1:"KeyA"===t.code?this.translationFlags.left=!1:"KeyD"===t.code?this.translationFlags.right=!1:"KeyR"===t.code?this.translationFlags.up=!1:"KeyF"===t.code&&(this.translationFlags.down=!1)},t.prototype.mouseMoveListener=function(t){this.rotationTarget[0]+=t.movementY*this.mouseMoveCoef,this.rotationTarget[1]+=t.movementX*this.mouseMoveCoef},t.prototype.setTranslation=function(t){F(this.translationTarget,t)},t.prototype.setRotation=function(t){F(this.rotationTarget,t)},t.prototype.update=function(){var t=this.cameraTransform,e=t.translation,n=t.rotation,r=t.direction,i=this,o=i.moveCoef,a=i.translationFlags,s=i.translationTarget,l=i.rotationTarget;a.forward&&(s[0]-=r.forward[0]*o,s[1]-=r.forward[1]*o,s[2]-=r.forward[2]*o),a.back&&(s[0]+=r.forward[0]*o,s[1]+=r.forward[1]*o,s[2]+=r.forward[2]*o),a.left&&(s[0]-=r.right[0]*o,s[1]-=r.right[1]*o,s[2]-=r.right[2]*o),a.right&&(s[0]+=r.right[0]*o,s[1]+=r.right[1]*o,s[2]+=r.right[2]*o),a.up&&(s[0]+=r.up[0]*o,s[1]+=r.up[1]*o,s[2]+=r.up[2]*o),a.down&&(s[0]-=r.up[0]*o,s[1]-=r.up[1]*o,s[2]-=r.up[2]*o),N(e,e,s,this.lerpFactor),N(n,n,l,this.lerpFactor)},t.prototype.destroy=function(){this.inputController.destroy()},t}(),gt=function(){function t(t,e,n){this.mouseMoveCoef=.2,this.lerpFactor=.2,this.cameraTransform=e,this.moveCoef=n,this.zTarget=e.translation[2],this.rotationTarget=O(e.rotation),this.inputController=new ft(t,{mouseMove:this.mouseMoveListener.bind(this),wheel:this.wheelListener.bind(this)})}return t.prototype.mouseMoveListener=function(t){this.rotationTarget[0]-=t.movementY*this.mouseMoveCoef,this.rotationTarget[2]-=t.movementX*this.mouseMoveCoef},t.prototype.wheelListener=function(t){this.zTarget=Math.max(0,this.cameraTransform.translation[2]-t.deltaY*this.moveCoef)},t.prototype.setTranslation=function(t){this.zTarget=t[2]},t.prototype.setRotation=function(t){F(this.rotationTarget,t)},t.prototype.update=function(){var t,e,n,r=this.cameraTransform,i=r.translation,o=r.rotation;i[2]=(t=i[2],e=this.zTarget,t*(1-(n=this.lerpFactor))+e*n),N(o,o,this.rotationTarget,this.lerpFactor)},t.prototype.destroy=function(){this.inputController.destroy()},t}(),_t=n(10),wt=n(446),yt=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},xt=function(t){var e=new m(t,_t,wt,{matrix:{type:"matrix4fv",value:$()}},["a_position","a_color"]),n=function(){for(var t=[],e=0;e<=10;e++){var n=.1*e-.5;t.push(n,.5,0),t.push(n,-.5,0);var r=.5-.1*e;t.push(-.5,r,0),t.push(.5,r,0)}return{position:{type:"float",data:new Float32Array(t),size:3},color:{type:"unsigned-byte",data:new Uint8Array(yt(yt(yt([],Array(60).fill(255)),[[0,255,0,0,255,0],[255,0,0,255,0,0]]),Array(60).fill(255)).flat()),size:3,normalized:!0}}}();return{program:e,vao:new T(t,[n.position,n.color]),transform:new ct}},Pt=n(778),Ct=n(584),Et=function(t){var e=new m(t,Pt,Ct,{matrix:{type:"matrix4fv",value:$()}},["a_position","a_color"]),n={position:{type:"float",data:new Float32Array([[0,0,0,0,150,0,30,0,0],[0,150,0,30,150,0,30,0,0],[30,0,0,30,30,0,100,0,0],[30,30,0,100,30,0,100,0,0],[30,60,0,30,90,0,67,60,0],[30,90,0,67,90,0,67,60,0],[0,0,30,30,0,30,0,150,30],[0,150,30,30,0,30,30,150,30],[30,0,30,100,0,30,30,30,30],[30,30,30,100,0,30,100,30,30],[30,60,30,67,60,30,30,90,30],[30,90,30,67,60,30,67,90,30],[0,0,0,100,0,0,100,0,30],[0,0,0,100,0,30,0,0,30],[100,0,0,100,30,0,100,30,30],[100,0,0,100,30,30,100,0,30],[30,30,0,30,30,30,100,30,30],[30,30,0,100,30,30,100,30,0],[30,30,0,30,60,30,30,30,30],[30,30,0,30,60,0,30,60,30],[30,60,0,67,60,30,30,60,30],[30,60,0,67,60,0,67,60,30],[67,60,0,67,90,30,67,60,30],[67,60,0,67,90,0,67,90,30],[30,90,0,30,90,30,67,90,30],[30,90,0,67,90,30,67,90,0],[30,90,0,30,150,30,30,90,30],[30,90,0,30,150,0,30,150,30],[0,150,0,0,150,30,30,150,30],[0,150,0,30,150,30,30,150,0],[0,0,0,0,0,30,0,150,30],[0,0,0,0,150,30,0,150,0]].flat()),size:3},color:{type:"unsigned-byte",data:new Uint8Array([[200,70,120,200,70,120,200,70,120],[200,70,120,200,70,120,200,70,120],[200,70,120,200,70,120,200,70,120],[200,70,120,200,70,120,200,70,120],[200,70,120,200,70,120,200,70,120],[200,70,120,200,70,120,200,70,120],[80,70,200,80,70,200,80,70,200],[80,70,200,80,70,200,80,70,200],[80,70,200,80,70,200,80,70,200],[80,70,200,80,70,200,80,70,200],[80,70,200,80,70,200,80,70,200],[80,70,200,80,70,200,80,70,200],[70,200,210,70,200,210,70,200,210],[70,200,210,70,200,210,70,200,210],[200,200,70,200,200,70,200,200,70],[200,200,70,200,200,70,200,200,70],[210,100,70,210,100,70,210,100,70],[210,100,70,210,100,70,210,100,70],[210,160,70,210,160,70,210,160,70],[210,160,70,210,160,70,210,160,70],[70,180,210,70,180,210,70,180,210],[70,180,210,70,180,210,70,180,210],[100,70,210,100,70,210,100,70,210],[100,70,210,100,70,210,100,70,210],[76,210,100,76,210,100,76,210,100],[76,210,100,76,210,100,76,210,100],[140,210,80,140,210,80,140,210,80],[140,210,80,140,210,80,140,210,80],[90,130,110,90,130,110,90,130,110],[90,130,110,90,130,110,90,130,110],[160,160,220,160,160,220,160,160,220],[160,160,220,160,160,220,160,160,220]].flat()),size:3,normalized:!0}};return{program:e,vao:new T(t,[n.position,n.color]),transform:new ct}},kt=n(528),Mt=n(51),Tt=function(){return{position:{type:"float",data:new Float32Array([[-1,1,0],[-1,-1,0],[1,-1,0],[1,1,0]].flat()),size:3},uv:{type:"float",data:new Float32Array([[0,0],[0,1],[1,1],[1,0]].flat()),size:2},index:[0,1,2,2,3,0]}},Lt=function(t){for(var e=t.n,n=t.translationDeviation,r=t.rotationInitial,i=t.rotationDeviation,o=t.scaleInitial,a=t.scaleDeviation,s=t.positioning,l=[],p=[],c=[],d=new ct,h=0;h<e;h++){var v=[u(n[0]),u(n[1]),u(n[2])],f=[r[0]+u(i[0]),r[1]+u(i[1]),r[2]+u(i[2])],m=[o[0]+u(a[0]),o[1]+u(a[1]),o[2]+u(a[2])];d.translation=v,d.rotation=f,d.scale=m,d.resetMatrix(),d.applyTransforms(),("flat"===s?[[-1,1,0],[-1,-1,0],[1,-1,0],[1,1,0]]:[[0,0,2],[0,0,0],[2,0,0],[2,0,2]]).forEach((function(t){B(t,t,d.matrix),l.push(t[0],t[1],t[2])}));var b=4*h;p.push(0,0,0,1,1,1,1,0),c.push(b,b+1,b+2,b+2,b+3,b)}return{position:{type:"float",data:new Float32Array(l),size:3},uv:{type:"float",data:new Float32Array(p),size:2},index:c}},St=n(738),At=n(57),Vt=n(822),Rt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(t){o(t)}}function s(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))},jt=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Dt=function(){function t(t,e,n){this.gl=t,this.texture=t.createTexture(),this.slot=t.TEXTURE0+n,t.bindTexture(t.TEXTURE_2D,this.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)}return t.prototype.activate=function(){this.gl.activeTexture(this.slot),this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture)},t.prototype.deactivate=function(){this.gl.bindTexture(this.gl.TEXTURE_2D,null)},t}(),Ut=function(){function t(t,e,n){this.gl=t,this.texture=t.createTexture(),this.slot=t.TEXTURE0+n,t.bindTexture(t.TEXTURE_CUBE_MAP,this.texture),v(6,(function(n){t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e[n])})),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),t.bindTexture(t.TEXTURE_CUBE_MAP,null)}return t.prototype.activate=function(){this.gl.activeTexture(this.slot),this.gl.bindTexture(this.gl.TEXTURE_CUBE_MAP,this.texture)},t.prototype.deactivate=function(){this.gl.bindTexture(this.gl.TEXTURE_CUBE_MAP,null)},t}(),Ot=function(t){var e=new Image;return new Promise((function(n,r){e.onload=function(){return n(e)},e.onerror=r,e.src=t}))},It=function(t,e,n){return Rt(void 0,void 0,void 0,(function(){var r;return jt(this,(function(i){switch(i.label){case 0:return[4,Ot(e)];case 1:return r=i.sent(),[2,new Dt(t,r,n)]}}))}))},Ft=function(t,e,n){return Rt(void 0,void 0,void 0,(function(){var r;return jt(this,(function(i){switch(i.label){case 0:return[4,Promise.all(e.map((function(t){return Ot(t)})))];case 1:return r=i.sent(),[2,new Ut(t,r,n)]}}))}))},Nt=function(t){var e=document.createElement("canvas");e.width=t,e.height=t;var n=e.getContext("2d");if(!n)throw new Error("Cannot get 2d context");var r=t/2,i=t/10,o=i/2,a=function(t,e,r,i,a){for(var s=a.topLeft,l=a.topRight,u=a.bottomRight,d=a.bottomLeft,h=t;h<=e+o-1;h+=o)for(var v=r;v<=i+o-1;v+=o){var f=p(t,e,h),m=p(r,i,v),b=c(s[0],l[0],u[0],d[0],f,m),g=c(s[1],l[1],u[1],d[1],f,m),_=c(s[2],l[2],u[2],d[2],f,m);n.fillStyle="rgb("+b+","+g+","+_+")",n.fillRect(h,v,o,o)}};a(0,r-o,0,r-o,{topLeft:[0,111,40],topRight:[255,222,40],bottomRight:[255,234,240],bottomLeft:[0,111,222]}),a(r,t,0,r-o,{topLeft:[255,216,15],topRight:[205,8,1],bottomRight:[205,15,87],bottomLeft:[255,234,240]}),a(r,t,r,t,{topLeft:[252,234,238],topRight:[14,14,14],bottomRight:[16,10,14],bottomLeft:[204,3,80]}),a(0,r-o,r,t,{topLeft:[206,5,85],topRight:[252,233,239],bottomRight:[0,120,212],bottomLeft:[17,15,92]});for(var s="rgb(230, 230, 230)",l="rgba(0, 0, 0, 0.1)",u=t/35,d=.2*o,h=t/60,v=[2*o-.2*o,.2*o],f=t/500,m=0;m<10;m++)for(var b=0;b<10;b++)if((b+m)%2!=1){var g=b*i,_=m*i+i,w=String.fromCharCode("A".charCodeAt(0)+m%20);n.font=u+"px sans-serif",n.textAlign="left",n.strokeStyle=l,n.lineWidth=f,n.strokeText(w,g+d,_-d),n.fillStyle=s,n.fillText(w,g+d,_-d);var y=String(b+1).padStart(2,"0");n.font=h+"px sans-serif",n.textAlign="right",n.strokeStyle=l,n.lineWidth=f,n.strokeText(y,g+v[0],_-v[1]),n.fillStyle="yellow",n.fillText(y,g+v[0],_-v[1])}var x=t/1024,P=x/2;n.fillStyle=s;for(var C=o-P;C<=t;C+=i)n.fillRect(C,0,x,t),n.fillRect(0,C,t,x);var E=t/512,k=E/2;for(n.fillStyle=s,C=-k;C<=t;C+=i)n.fillRect(C,0,E,t),n.fillRect(0,C,t,E);var M=t/200,T=M/2;for(n.fillStyle=s,m=0;m<10;m++)for(b=0;b<10;b++)g=b*i,_=m*i,n.fillRect(g+T,_+T,M,M),n.fillRect(g+i-3*T,_+T,M,M),n.fillRect(g+i-3*T,_+i-3*T,M,M),n.fillRect(g+T,_+i-3*T,M,M);return e},Bt=n(280),zt=n(737),Kt=n(259),Ht=n(232),qt=n(783),Gt=n(922),Xt=n(627),Yt=n(170),Qt=n(914),Wt=n(670),$t=n(784),Jt=n(544),Zt=n(796),te=function(){function t(t,e){this.viewMatrixTransitionless=$(),this.viewProjection=$(),this.viewProjectionInv=$();var n=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]);this.vao=new T(t,[{type:"float",data:n,size:2}]);var r=new m(t,Jt,Zt,{matrixInv:{type:"matrix4fv",value:$()}},["a_position"]);this.program=r,this.texture=e}return t.prototype.draw=function(t){var e,n;e=this.viewMatrixTransitionless,n=t.viewMatrix,e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this.viewMatrixTransitionless[12]=0,this.viewMatrixTransitionless[13]=0,this.viewMatrixTransitionless[14]=0,tt(this.viewMatrixTransitionless,this.viewMatrixTransitionless,h(90)),at(this.viewProjection,t.projectionMatrix,this.viewMatrixTransitionless),Z(this.viewProjectionInv,this.viewProjection),this.program.use(),this.program.setUniform("matrixInv",this.viewProjectionInv),this.texture.activate(),this.vao.drawTriangles(),this.texture.deactivate()},t}(),ee=function(t){return e=void 0,n=void 0,i=function(){var e;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(n){switch(n.label){case 0:return[4,Ft(t,[Gt,Xt,Yt,Qt,Wt,$t],0)];case 1:return e=n.sent(),[2,new te(t,e)]}}))},new((r=void 0)||(r=Promise))((function(t,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,s)}l((i=i.apply(e,n||[])).next())}));var e,n,r,i},ne=function(t,e){void 0===e&&(e={yUp:!0});var n=[],r=[],i=[],o=[],a=t.trim().split(/\n+/).map((function(t){return t.trim()})),s=[],l=[],u=[],p=[];return a.forEach((function(t,a){if(!t.startsWith("#")){var c=t.split(/\s+/),d=c[0],h=c.slice(1);switch(d){case"v":n.push.apply(n,[h[0],h[1],h[2]].map(Number)),6===h.length&&o.push.apply(o,[h[3],h[4],h[5]].map((function(t){return 255*Number(t)})));break;case"vt":r.push.apply(r,h.map(Number));break;case"vn":i.push.apply(i,h.map(Number));break;case"f":for(var v=h.length-2,f=0;f<v;f++)[h[0],h[f+1],h[f+2]].forEach((function(t){var a=t.split("/").map(Number),c=a[0],d=a[1],h=a[2];c=3*(c-1),e.yUp?s.push(n[c],n[c+2],n[c+1]):s.push(n[c],n[c+1],n[c+2]),d&&(d=2*(d-1),l.push(r[d],r[d+1])),h&&(h=3*(h-1),u.push(i[h],i[h+1],i[h+2])),o.length>0&&p.push(o[c],o[c+1],o[c+2])}));break;case"o":case"mtllib":case"usemtl":case"g":case"s":break;default:console.info("[OBJ parser] Unknown keyword at line "+(a+1)+": "+t)}}})),{position:{type:"float",data:new Float32Array(s),size:3},uv:{type:"float",data:new Float32Array(l),size:2},normal:{type:"float",data:new Float32Array(u),size:3},color:{type:"unsigned-byte",data:new Uint8Array(p),size:3,normalized:!0}}},re=n(227),ie=n(286),oe=n(682),ae=n(722),se=n(346),le=n(291),ue=n(853),pe=n(422);i=Array;var ce={1:{name:"point",init:function(t){new b(t);var e=new m(t,_,w,{},["a_position"]),n=new g(t,"a_position",[0,0],2,e);setTimeout((function(){e.use(),n.prepare(),n.drawPoints()}),100)}},2:{name:"render loop",init:function(t){var e=new b(t),n=new m(t,k,M,{pointSize:{type:"f",value:50},angle:{type:"f",value:0},pointColor:{type:"4f",value:[1,1,1,1]}},["a_position"]),r=new g(t,"a_position",[0,0,0,.1,.1,.1,-.1,-.1,-.1],3,n),i=new P({basePointSize:{type:"float",default:50,min:0,max:300,step:.01},red:{type:"float",default:l(),min:0,max:1,step:.01},green:{type:"float",default:l(),min:0,max:1,step:.01},blue:{type:"float",default:l(),min:0,max:1,step:.01}}),o=0,a=0;new E((function(t){o+=3*t;var s=10*Math.sin(o)+i.values.basePointSize;a=(a+.5*t)%(2*Math.PI),e.clear(),n.use(),n.setUniform("pointSize",s),n.setUniform("angle",a),n.setUniform("pointColor",[i.values.red,i.values.green,i.values.blue,1]),r.prepare(),r.drawPoints()}))}},3:{name:"vao",init:function(t){var e=new b(t),n=new m(t,L,S,{angle:{type:"f",value:0}},["a_position"]),r=new Float32Array([[-.1,.1],[.1,-.1],[-.1,-.1],[.1,.1]].flat()),i=new T(t,[{type:"float",data:r,size:2}]),o=new Float32Array([[0,0],[-.05,.1],[-.1,.05],[.05,.1],[.1,.05],[-.1,-.05],[-.05,-.1],[.1,-.05],[.05,-.1]].flat()),a=new T(t,[{type:"float",data:o,size:2}],[0,1,2,0,3,4,0,5,6,0,7,8]),s=0;new E((function(t){s=(s+.5*t)%(2*Math.PI),e.clear(),n.use(),n.setUniform("angle",s),a.drawTriangles(),i.drawPoints()}))}},4:{name:"lines",init:function(t){var e=new b(t),n=[[.8,.8,.8],[1,0,0]].flat(),r=new m(t,A,V,{color:{type:"3fv",value:n}},["a_position"]),i=new T(t,[{type:"float",data:R(),size:3}]);new E((function(){e.clear(),r.use(),r.setUniform("color",n),i.drawLines()}))}},5:{name:"transformation",init:function(t){var e=new b(t),n=new m(t,ht,vt,{matrix:{type:"matrix3fv",value:j()}},["a_position"]),r=new P({translation:{type:"vec2",default:[.12,0],min:-.2,max:.2,step:.001},rotation:{type:"float",default:15,min:0,max:360,step:.01},scale:{type:"vec2",default:[.8,.8],min:0,max:1.4,step:.01}}),i=new T(t,[dt]),o=new st;new E((function(t,a){e.clear(),n.use(),n.setStandardUniforms(a),o.setTranslation(r.values.translation),o.setRotation(h(r.values.rotation)),o.setScale(r.values.scale),o.reset();for(var s=0;s<5;++s)n.setUniform("matrix",o.update()),i.drawTriangles()}))}},6:{name:"camera",init:function(t){var e=new b(t),n=xt(t);n.transform.scale=[200,200,200];var r=Et(t),i=new mt(t,"fps",10),o=new mt(t,"orbit",10),a=o;i.pauseInputController();var s=function(t){void 0===t&&(t=!1),i.setTranslation([0,-300,200],t),i.setRotation([60,0,0],t),o.setRotation([64,0,0],t),o.setTranslation([0,0,400],t)};s(!0);var l=new P({rotation:{type:"vec3",default:[90,0,45],min:0,max:360,step:.1},translation:{type:"vec3",default:[0,0,0],min:-100,max:100,step:5},scale:{type:"vec3",default:[1,1,1],min:-3,max:3,step:.1},fovy:{type:"float",default:45,min:0,max:180,step:.01},near:{type:"float",default:.1,min:.1,max:1e3,step:.01},far:{type:"float",default:5e3,min:0,max:5e3,step:.01},camera:{type:"select",options:["orbit","fps"],onChange:function(t){a.pauseInputController(),(a="orbit"===t?o:i).startInputController()}},buttons:{type:"functions",functions:{resetCameras:s}}});t.enable(t.DEPTH_TEST),new E((function(){e.clear(),a.fovy=l.values.fovy,a.near=l.values.near,a.far=l.values.far,a.update(),n.program.use(),n.transform.matrix=J(a.viewProjectionMatrix),n.transform.applyTransforms(),n.program.setUniform("matrix",n.transform.matrix),n.vao.drawLines(),r.program.use(),r.transform.matrix=J(a.viewProjectionMatrix),r.transform.translation=l.values.translation,r.transform.rotation=l.values.rotation,r.transform.scale=l.values.scale,r.transform.applyTransforms(),r.program.setUniform("matrix",r.transform.matrix),r.vao.drawTriangles()}))}},7:{name:"look at",init:function(t){var e=new b(t),n=function(t){var e=new m(t,kt,Mt,{matrix:{type:"matrix4fv",value:$()}},["a_position","a_color"]),n={position:{type:"float",data:new Float32Array([[0,0,0,1,0,0],[0,0,0,0,1,0],[0,0,0,0,0,1]].flat()),size:3},color:{type:"unsigned-byte",data:new Uint8Array([[255,0,0,255,0,0],[0,255,0,0,255,0],[0,0,255,0,0,255]].flat()),size:3,normalized:!0}};return{program:e,vao:new T(t,[n.position,n.color]),transform:new ct}}(t);n.transform.rotation=[0,180,0];var r=Et(t);r.transform.scale=[.01,.01,.01],r.transform.lookAt=[0,0,0];var i=new mt(t,"orbit");i.setTranslation([0,0,15]),t.enable(t.DEPTH_TEST),new E((function(t,o){var a=.5*o,s=[2.5*Math.cos(a),2.5*Math.sin(a),2.5*Math.sin(a)];e.clear(),i.update(),r.program.use(),r.transform.matrix=J(i.viewProjectionMatrix),r.transform.translation=s,r.transform.applyTransforms(),r.program.setUniform("matrix",r.transform.matrix),r.vao.drawTriangles(),n.program.use();for(var l=-5;l<=5;l++)for(var u=-5;u<=5;u++)n.transform.translation=[l,u,0],n.transform.lookAt=s,n.transform.matrix=J(i.viewProjectionMatrix),n.transform.applyTransforms(),n.program.setUniform("matrix",n.transform.matrix),n.vao.drawLines()}))}},8:{name:"transparency",init:function(t){var e=new b(t),n=xt(t);n.transform.scale=[10,10,10];var r=function(t){var e=new m(t,St,At,{matrix:{type:"matrix4fv",value:$()},width:{type:"f",value:.1}},["a_position","a_uv"]),n=Tt();return{program:e,vao:new T(t,[n.position,n.uv],n.index),transform:new ct}}(t);r.transform.rotation=[90,0,0];var i=function(t){var e=new m(t,St,Vt,{matrix:{type:"matrix4fv",value:$()},width:{type:"f",value:.1}},["a_position","a_uv"]),n=Tt();return{program:e,vao:new T(t,[n.position,n.uv],n.index),transform:new ct}}(t);i.transform.rotation=[90,0,0];var o=function(t,e){var n=new m(t,St,Vt,{matrix:{type:"matrix4fv",value:$()},width:{type:"f",value:.1}},["a_position","a_uv"]),r=Lt({n:10,translationDeviation:[6,6,6],rotationInitial:[0,0,0],rotationDeviation:[360,360,360],scaleInitial:[.5,.5,.5],scaleDeviation:[.3,.3,.3],positioning:"flat"});return{program:n,vao:new T(t,[r.position,r.uv],r.index),transform:new ct}}(t),a=new mt(t,"orbit");a.setTranslation([0,0,15],!0),a.setRotation([70,0,12],!0),t.enable(t.DEPTH_TEST),t.enable(t.BLEND),t.depthFunc(t.LEQUAL),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),new E((function(s,l){var u=(-1,1,.2,.7,(Math.sin(l)- -1)*(.7-.2)/2+.2);e.clear(),a.update(),t.depthMask(!0),n.program.use(),n.transform.matrix=J(a.viewProjectionMatrix),n.transform.applyTransforms(),n.program.setUniform("matrix",n.transform.matrix),n.vao.drawLines(),t.depthMask(!1),o.program.use(),o.transform.matrix=J(a.viewProjectionMatrix),o.transform.applyTransforms(),o.program.setUniform("matrix",o.transform.matrix),o.program.setUniform("width",u),o.vao.drawTriangles();for(var p=4;p>=-4;p-=2)p%4==0?(i.program.use(),i.transform.matrix=J(a.viewProjectionMatrix),i.transform.translation=[0,p,0],i.transform.rotation[1]+=30*s,i.transform.applyTransforms(),i.program.setUniform("matrix",i.transform.matrix),i.program.setUniform("width",u),i.vao.drawTriangles()):(r.program.use(),r.transform.matrix=J(a.viewProjectionMatrix),r.transform.translation=[0,p,0],r.transform.rotation[1]+=30*s,r.transform.applyTransforms(),r.program.setUniform("matrix",r.transform.matrix),r.program.setUniform("width",u),r.vao.drawTriangles())}))}},9:{name:"textures",init:function(t){var e=new b(t),n=new mt(t,"orbit");n.setTranslation([0,0,20],!0),n.setRotation([50,0,12],!0);var r=Lt({n:1e3,translationDeviation:[5,5,0],rotationInitial:[0,10,0],rotationDeviation:[10,10,180],scaleInitial:[.15,1,2],scaleDeviation:[.1,0,.6],positioning:"standing"}),i=new m(t,Bt,Kt,{matrix:{type:"matrix4fv",value:$()}},["a_position","a_uv"]),o=new T(t,[r.position,r.uv],r.index),a=new ct,s=new Dt(t,function(){var t=document.createElement("canvas"),e=256;t.width=512,t.height=512;var n=t.getContext("2d");if(!n)throw new Error("Cannot get 2d context");n.beginPath(),n.moveTo(74,492),n.bezierCurveTo(73,507,33,368,43,248),n.bezierCurveTo(48,188,212,12,247,10),n.bezierCurveTo(287,8,443,179,448,286),n.bezierCurveTo(454,418,437,482,432,496);var r=n.createRadialGradient(e,e,0,e,e,512);return r.addColorStop(0,"#556d2c"),r.addColorStop(1,"#1e2610"),n.fillStyle=r,n.fill(),t}(),0),l=Tt(),u=new m(t,zt,Kt,{matrix:{type:"matrix4fv",value:$()}},["a_postion","a_uv"]),p=new T(t,[l.position,l.uv],l.index),c=new ct;c.scale=[8,8,8];var d=new Dt(t,Nt(1024),0);t.enable(t.DEPTH_TEST),t.enable(t.BLEND),t.depthFunc(t.LEQUAL),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),new E((function(r,l){e.clear(),n.update(),t.depthMask(!0),u.use(),c.matrix=J(n.viewProjectionMatrix),c.applyTransforms(),u.setUniform("matrix",c.matrix),d.activate(),p.drawTriangles(),t.depthMask(!1),i.use(),a.matrix=J(n.viewProjectionMatrix),a.applyTransforms(),i.setStandardUniforms(l),i.setUniform("matrix",a.matrix),s.activate(),o.drawTriangles()}))}},10:{name:"cube",init:function(t){var e=new b(t),n=new mt(t,"orbit");n.setTranslation([0,0,15],!0),n.setRotation([50,0,12],!0);var r=xt(t);r.transform.scale=[10,10,10];var i=new m(t,Ht,qt,{matrix:{type:"matrix4fv",value:$()},mix:{type:"f",value:.3}},["a_position","a_color","a_uv","a_normal"]),o=function(t,e){void 0===t&&(t=[1,1,1]),void 0===e&&(e=[0,0,0]);var n=.5*t[0],r=.5*t[1],i=.5*t[2],o=e[0]-n,a=e[0]+n,s=e[1]-r,l=e[1]+r,u=e[2]-i,p=e[2]+i,c=[[a,l,p],[a,s,p],[a,s,u],[a,l,u],[o,l,u],[o,s,u],[o,s,p],[o,l,p],[o,l,p],[o,s,p],[a,s,p],[a,l,p],[a,l,u],[a,s,u],[o,s,u],[o,l,u],[o,l,u],[o,l,p],[a,l,p],[a,l,u],[o,s,p],[o,s,u],[a,s,u],[a,s,p]].flat(),d=c.map((function(t){return t+.5})),h=[];v(6,(function(){return h.push(0,0,0,1,1,1,1,0)}));var f=[[1,0,0,1,0,0,1,0,0,1,0,0],[-1,0,0,-1,0,0,-1,0,0,-1,0,0],[0,0,1,0,0,1,0,0,1,0,0,1],[0,0,-1,0,0,-1,0,0,-1,0,0,-1],[0,1,0,0,1,0,0,1,0,0,1,0],[0,-1,0,0,-1,0,0,-1,0,0,-1,0]].flat(),m=[];return v(6,(function(t){var e=4*t;m.push(e+3,e+2,e,e+1,e,e+2)})),{position:{type:"float",data:new Float32Array(c),size:3},color:{type:"unsigned-byte",data:new Uint8Array(d),size:3,normalized:!1},uv:{type:"float",data:new Float32Array(h),size:2},normal:{type:"float",data:new Float32Array(f),size:3},index:m}}(),a=new T(t,[o.position,o.color,o.uv,o.normal],o.index),s=new ct;s.scale=[5,5,5],new Dt(t,function(t){var e=document.createElement("canvas");e.width=256,e.height=256;var n=e.getContext("2d");if(!n)throw new Error("Cannot get 2d context");for(var r=25.6,i=0;i<10;i++)for(var o=0;o<10;o++)n.fillStyle=(i+o)%2==0?"#777777":"#4e4e4e",n.fillRect(i*r,o*r,r,r);return e}(),0).activate(),t.enable(t.DEPTH_TEST);var l=new P({mix:{type:"float",min:0,max:1,step:.01,default:.3}});new E((function(t,o){e.clear(),n.update(),r.program.use(),r.transform.matrix=J(n.viewProjectionMatrix),r.transform.applyTransforms(),r.program.setUniform("matrix",r.transform.matrix),r.vao.drawLines(),i.use(),s.matrix=J(n.viewProjectionMatrix),s.applyTransforms(),i.setUniform("matrix",s.matrix),i.setUniform("mix",l.values.mix),i.setStandardUniforms(o),a.drawTriangles()}))}},11:{name:"cubemap",init:function(t){return e=void 0,n=void 0,i=function(){var e,n,r,i;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(o){switch(o.label){case 0:return e=new b(t),(n=new mt(t,"orbit")).setTranslation([0,0,3],!0),n.setRotation([80,0,12],!0),r=xt(t),[4,ee(t)];case 1:return i=o.sent(),t.enable(t.DEPTH_TEST),new E((function(){e.clear(),n.update(),r.program.use(),r.transform.matrix=J(n.viewProjectionMatrix),r.transform.applyTransforms(),r.program.setUniform("matrix",r.transform.matrix),r.vao.drawLines(),i.draw(n)})),[2]}}))},new((r=void 0)||(r=Promise))((function(t,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,s)}l((i=i.apply(e,n||[])).next())}));var e,n,r,i}},12:{name:"obj parsing",init:function(t){return e=void 0,n=void 0,i=function(){var e,n,r,i,o,a,s,l,u,p,c,d,h,v,g,_,w,y,x,C,k;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(M){switch(M.label){case 0:return e=new b(t),n=new P({obj:{type:"select",options:["chair","pirate girl","book"]}}),(r=new mt(t,"orbit")).setTranslation([0,0,13],!0),r.setRotation([60,0,135],!0),(i=xt(t)).transform.translation=[0,0,-3],i.transform.scale=[10,10,10],[4,f(re)];case 1:return o=M.sent(),a=ne(o),s=new T(t,[a.position,a.uv]),(l=new ct).translation=[0,0,-3],u=new m(t,se,le,{matrix:{type:"matrix4fv",value:$()}},["a_position","a_uv"]),p=new Dt(t,Nt(2048),0),[4,f(ie)];case 2:return c=M.sent(),d=ne(c),h=new T(t,[d.position,d.uv]),(v=new ct).translation=[0,0,-3],v.rotation=[0,0,-90],v.scale=[1.8,1.8,1.8],g=new m(t,se,le,{matrix:{type:"matrix4fv",value:$()}},["a_position","a_uv"]),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),[4,It(t,oe,0)];case 3:return _=M.sent(),[4,f(ae)];case 4:return w=M.sent(),y=ne(w),x=new T(t,[y.position,y.color]),(C=new ct).translation=[0,0,0],C.rotation=[0,0,-90],C.scale=[-18,18,18],k=new m(t,ue,pe,{matrix:{type:"matrix4fv",value:$()}},["a_position","a_color"]),t.enable(t.DEPTH_TEST),new E((function(){e.clear(),r.update(),i.program.use(),i.transform.matrix=J(r.viewProjectionMatrix),i.transform.applyTransforms(),i.program.setUniform("matrix",i.transform.matrix),i.vao.drawLines(),"chair"===n.values.obj&&(u.use(),l.matrix=J(r.viewProjectionMatrix),l.applyTransforms(),u.setUniform("matrix",l.matrix),p.activate(),s.drawTriangles()),"pirate girl"===n.values.obj&&(g.use(),v.matrix=J(r.viewProjectionMatrix),v.applyTransforms(),g.setUniform("matrix",v.matrix),_.activate(),h.drawTriangles()),"book"===n.values.obj&&(k.use(),C.matrix=J(r.viewProjectionMatrix),C.applyTransforms(),k.setUniform("matrix",C.matrix),x.drawTriangles())})),[2]}}))},new((r=void 0)||(r=Promise))((function(t,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(a,s)}l((i=i.apply(e,n||[])).next())}));var e,n,r,i}}};window.addEventListener("load",(function(){var t=new URLSearchParams(window.location.search),e=Number(t.get("scene"));if(!(e in ce)){var n=Object.keys(ce);return t.set("scene",n[n.length-1]),void(window.location.search=t.toString())}!function(t,e){var n=document.createElement("button");n.innerText="<",n.onclick=function(){t.set("scene",String(e-1)),window.location.search=t.toString()};var r=document.createElement("button");r.onclick=function(){t.set("scene",String(e+1)),window.location.search=t.toString()},r.innerText=">";var i=document.createElement("select");Object.entries(ce).forEach((function(t){var n=t[0],r=t[1].name,o=document.createElement("option");o.value=n,o.innerText=n+"-"+r,Number(n)===e&&(o.selected=!0),i.appendChild(o)})),i.onchange=function(e){t.set("scene",e.target.value),window.location.search=t.toString()};var o=document.createElement("div");o.id="switcher",e-1 in ce||(n.disabled=!0),e+1 in ce||(r.disabled=!0),o.appendChild(n),o.appendChild(i),o.appendChild(r),document.body.appendChild(o)}(t,e);var r=document.createElement("canvas");r.id="canvas",document.body.appendChild(r);var i=r.getContext("webgl2");if(null===i)throw new Error("Cannot get webgl context");ce[e].init(i)}))})()})();